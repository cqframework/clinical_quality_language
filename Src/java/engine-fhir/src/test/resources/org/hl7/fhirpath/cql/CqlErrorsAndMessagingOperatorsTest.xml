<?xml version="1.0" encoding="utf-8"?>
<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://hl7.org/fhirpath/tests" xsi:schemaLocation="http://hl7.org/fhirpath/tests ../../testSchema/testSchema.xsd"
	name="CqlErrorsAndMessagingOperatorsTest" reference="https://cql.hl7.org/09-b-cqlreference.html#errors-and-messaging">
	<group>
		<test name="TestMessageInfo">
			<expression>Message(1, true, '100', 'Message', 'Test Message')</expression>
			<output>1</output>
		</test>
		<test name="TestMessageWarn">
			<expression>Message(2, true, '200', 'Warning', 'You have been warned!')</expression>
			<output>2</output>
		</test>
		<test name="TestMessageTrace">
			<expression>Message({3, 4, 5}, true, '300', 'Trace', 'This is a trace')</expression>
			<output>{3, 4, 5}</output>
		</test>
		<test name="TestMessageError">
			<expression invalid="true">Message(3 + 1, true, '400', 'Error', 'This is an error!')</expression>
			<!-- EXPECT: 400: This is an error! -->
		</test>
		<test name="TestMessageWithNullSeverity">
			<expression>Message(1, true, '1', null, 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestMessageWithNullSource">
			<expression>Message(null, true, '1', 'Message', 'This is a message')</expression>
			<output>null</output>
		</test>
		<test name="TestMessageWithNullCondition">
			<expression>Message(1, null, '1', 'Message', 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestMessageWithNullCode">
			<expression>Message(1, true, null, 'Message', 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestMessageWithNullMessage">
			<expression>Message(1, true, '1', 'Message', null)</expression>
			<output>1</output>
		</test>
		<test name="TestWarningWithNullSource">
			<expression>Message(null, true, '1', 'Warning', 'This is a message')</expression>
			<output>null</output>
		</test>
		<test name="TestWarningWithNullCondition">
			<expression>Message(1, null, '1', 'Warning', 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestWarningWithNullCode">
			<expression>Message(1, true, null, 'Warning', 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestWarningWithNullMessage">
			<expression>Message(1, true, '1', 'Warning', null)</expression>
			<output>1</output>
		</test>
		<test name="TestTraceWithNullSource">
			<expression>Message(null, true, '1', 'Trace', 'This is a message')</expression>
			<output>null</output>
		</test>
		<test name="TestTraceWithNullCondition">
			<expression>Message(1, null, '1', 'Trace', 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestTraceWithNullCode">
			<expression>Message(1, true, null, 'Trace', 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestTraceWithNullMessage">
			<expression>Message(1, true, '1', 'Trace', null)</expression>
			<output>1</output>
		</test>
		<test name="TestErrorWithNullSource">
			<expression invalid="true">Message(null, true, '1', 'Error', 'This is a message')</expression>
			<!-- EXPECT: This is a message -->
		</test>
		<test name="TestErrorWithNullCondition">
			<expression>Message(1, null, '1', 'Error', 'This is a message')</expression>
			<output>1</output>
		</test>
		<test name="TestErrorWithNullCode">
			<expression invalid="true">Message(1, true, null, 'Error', 'This is a message')</expression>
			<!-- EXPECT: This is a message -->
		</test>
		<test name="TestErrorWithNullMessage">
			<expression invalid="true">Message(1, true, '1', 'Error', null)</expression>
			<!-- EXPECT: null -->
		</test>
	</group>
</tests>
