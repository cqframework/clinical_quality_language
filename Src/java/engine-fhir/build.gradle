dependencies {
    api project(':engine')
    api 'org.apache.commons:commons-text:1.10.0'
    api 'org.jvnet.jaxb2_commons:jaxb2-basics-runtime:0.13.1'
    api 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.3'
    api 'xpp3:xpp3_min:1.1.4c'
    api 'xmlpull:xmlpull:1.1.3.1'
    api 'ca.uhn.hapi.fhir:hapi-fhir-structures-dstu2:6.0.1'
    api 'ca.uhn.hapi.fhir:hapi-fhir-structures-hl7org-dstu2:6.0.1'
    api 'ca.uhn.hapi.fhir:hapi-fhir-structures-dstu3:6.0.1'
    api 'ca.uhn.hapi.fhir:hapi-fhir-structures-r4:6.0.1'
    api 'ca.uhn.hapi.fhir:hapi-fhir-structures-r5:6.0.1'
    testImplementation 'com.github.tomakehurst:wiremock-jre8:2.33.2'
    testImplementation 'org.eclipse.persistence:org.eclipse.persistence.moxy:2.7.7'
    testImplementation project(':cql-to-elm')
    testImplementation project(':engine-jackson')
    testImplementation project(':model-jackson')
    testImplementation project(':elm-jackson')
    testImplementation project(':quick')
    testImplementation 'ca.uhn.hapi.fhir:hapi-fhir-client:6.0.1'
}

generateSources {
    inputs.dir "${projectDir}/src/test/resources/org/hl7/fhirpath/testSchema"

    doLast {
        ant.xjc(destdir: xjc.destDir, schema: "${projectDir}/src/test/resources/org/hl7/fhirpath/testSchema/testSchema.xsd") {
            arg(line: "${xjc.args} -npa " +
                "-p org.hl7.fhirpath.tests")
        }
    }
}