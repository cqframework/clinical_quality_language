dependencies {
    api 'org.slf4j:slf4j-api:1.7.29'
    api 'org.apache.commons:commons-text:1.10.0'
    api 'org.jvnet.jaxb2_commons:jaxb2-basics-runtime:0.13.1'
    api 'jakarta.xml.bind:jakarta.xml.bind-api:2.3.3'
    api 'org.fhir:ucum:1.0.3'
    api 'xpp3:xpp3_min:1.1.4c'
    api 'xmlpull:xmlpull:1.1.3.1'

    testImplementation 'info.cqframework:cql-to-elm:2.4.0'
    testImplementation 'info.cqframework:model-jackson:2.4.0'
    testImplementation 'info.cqframework:elm-jackson:2.4.0'
}

generateSources {
    inputs.dir "${projectDir}/src/main/cql-lm/schema/elm"

    doLast {
        ant.xjc(destdir: xjc.destDir, schema: "${projectDir}/src/main/cql-lm/schema/elm/library.xsd") {
            arg(line: "${xjc.args} -npa " +
                "-XautoInheritance -XautoInheritance-xmlTypesExtend=org.opencds.cqf.cql.engine.elm.execution.Executable " +
                "-p org.cqframework.cql.elm.execution")
        }
    }
}