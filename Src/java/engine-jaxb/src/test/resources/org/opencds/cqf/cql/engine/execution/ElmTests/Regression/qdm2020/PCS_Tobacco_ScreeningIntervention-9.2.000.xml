<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:qdm43="urn:healthit-gov:qdm:v4_3" xmlns:qdm53="urn:healthit-gov:qdm:v5_3" xmlns:a="urn:hl7-org:cql-annotations:r1">
   <annotation translatorOptions="EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation" xsi:type="a:CqlToElmInfo"/>
   <annotation xsi:type="a:Annotation">
      <a:s r="285">
         <a:s>library PCS_Tobacco_ScreeningIntervention version '9.2.000'</a:s>
      </a:s>
   </annotation>
   <identifier id="PCS_Tobacco_ScreeningIntervention" version="9.2.000"/>
   <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
   <usings>
      <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
      <def localId="1" locator="3:1-3:23" localIdentifier="QDM" uri="urn:healthit-gov:qdm:v5_5" version="5.5">
         <annotation xsi:type="a:Annotation">
            <a:s r="1">
               <a:s>using </a:s>
               <a:s>
                  <a:s>QDM</a:s>
               </a:s>
               <a:s> version '5.5'</a:s>
            </a:s>
         </annotation>
      </def>
   </usings>
   <includes>
      <def localId="2" locator="5:1-5:64" localIdentifier="Global" path="MATGlobalCommonFunctions" version="5.0.000">
         <annotation xsi:type="a:Annotation">
            <a:s r="2">
               <a:s>include </a:s>
               <a:s>
                  <a:s>MATGlobalCommonFunctions</a:s>
               </a:s>
               <a:s> version '5.0.000' called Global</a:s>
            </a:s>
         </annotation>
      </def>
   </includes>
   <parameters>
      <def localId="39" locator="41:1-41:49" name="Measurement Period" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="39">
               <a:s>parameter &quot;Measurement Period&quot; </a:s>
               <a:s r="38">
                  <a:s>Interval&lt;</a:s>
                  <a:s r="37">
                     <a:s>DateTime</a:s>
                  </a:s>
                  <a:s>></a:s>
               </a:s>
            </a:s>
         </annotation>
         <parameterTypeSpecifier localId="38" locator="41:32-41:49" xsi:type="IntervalTypeSpecifier">
            <pointType localId="37" locator="41:41-41:48" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
         </parameterTypeSpecifier>
      </def>
   </parameters>
   <codeSystems>
      <def localId="3" locator="7:1-7:51" name="LOINC" id="urn:oid:2.16.840.1.113883.6.1" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="3">
               <a:s>codesystem &quot;LOINC&quot;: 'urn:oid:2.16.840.1.113883.6.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="4" locator="8:1-8:50" name="CPT" id="urn:oid:2.16.840.1.113883.6.12" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="4">
               <a:s>codesystem &quot;CPT&quot;: 'urn:oid:2.16.840.1.113883.6.12'</a:s>
            </a:s>
         </annotation>
      </def>
   </codeSystems>
   <valueSets>
      <def localId="5" locator="10:1-10:74" name="Annual Wellness Visit" id="urn:oid:2.16.840.1.113883.3.526.3.1240" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="5">
               <a:s>valueset &quot;Annual Wellness Visit&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1240'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="6" locator="11:1-11:58" name="Ethnicity" id="urn:oid:2.16.840.1.114222.4.11.837" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="6">
               <a:s>valueset &quot;Ethnicity&quot;: 'urn:oid:2.16.840.1.114222.4.11.837'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="7" locator="12:1-12:87" name="Home Healthcare Services" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="7">
               <a:s>valueset &quot;Home Healthcare Services&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="8" locator="13:1-13:76" name="Limited Life Expectancy" id="urn:oid:2.16.840.1.113883.3.526.3.1259" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="8">
               <a:s>valueset &quot;Limited Life Expectancy&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1259'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="9" locator="14:1-14:67" name="Medical Reason" id="urn:oid:2.16.840.1.113883.3.526.3.1007" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="9">
               <a:s>valueset &quot;Medical Reason&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1007'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="10" locator="15:1-15:84" name="Occupational Therapy Evaluation" id="urn:oid:2.16.840.1.113883.3.526.3.1011" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="10">
               <a:s>valueset &quot;Occupational Therapy Evaluation&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1011'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="11" locator="16:1-16:75" name="Office Visit" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="11">
               <a:s>valueset &quot;Office Visit&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="12" locator="17:1-17:68" name="ONC Administrative Sex" id="urn:oid:2.16.840.1.113762.1.4.1" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="12">
               <a:s>valueset &quot;ONC Administrative Sex&quot;: 'urn:oid:2.16.840.1.113762.1.4.1'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="13" locator="18:1-18:78" name="Ophthalmological Services" id="urn:oid:2.16.840.1.113883.3.526.3.1285" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="13">
               <a:s>valueset &quot;Ophthalmological Services&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1285'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="14" locator="19:1-19:55" name="Payer" id="urn:oid:2.16.840.1.114222.4.11.3591" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="14">
               <a:s>valueset &quot;Payer&quot;: 'urn:oid:2.16.840.1.114222.4.11.3591'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="15" locator="20:1-20:80" name="Physical Therapy Evaluation" id="urn:oid:2.16.840.1.113883.3.526.3.1022" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="15">
               <a:s>valueset &quot;Physical Therapy Evaluation&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1022'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="16" locator="21:1-21:125" name="Preventive Care Services - Established Office Visit, 18 and Up" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="16">
               <a:s>valueset &quot;Preventive Care Services - Established Office Visit, 18 and Up&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="17" locator="22:1-22:106" name="Preventive Care Services - Group Counseling" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="17">
               <a:s>valueset &quot;Preventive Care Services - Group Counseling&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="18" locator="23:1-23:95" name="Preventive Care Services - Other" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1030" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="18">
               <a:s>valueset &quot;Preventive Care Services - Other&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1030'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="19" locator="24:1-24:109" name="Preventive Care Services-Individual Counseling" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="19">
               <a:s>valueset &quot;Preventive Care Services-Individual Counseling&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="20" locator="25:1-25:119" name="Preventive Care Services-Initial Office Visit, 18 and Up" id="urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="20">
               <a:s>valueset &quot;Preventive Care Services-Initial Office Visit, 18 and Up&quot;: 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="21" locator="26:1-26:88" name="Psych Visit - Diagnostic Evaluation" id="urn:oid:2.16.840.1.113883.3.526.3.1492" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="21">
               <a:s>valueset &quot;Psych Visit - Diagnostic Evaluation&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1492'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="22" locator="27:1-27:80" name="Psych Visit - Psychotherapy" id="urn:oid:2.16.840.1.113883.3.526.3.1496" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="22">
               <a:s>valueset &quot;Psych Visit - Psychotherapy&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1496'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="23" locator="28:1-28:67" name="Psychoanalysis" id="urn:oid:2.16.840.1.113883.3.526.3.1141" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="23">
               <a:s>valueset &quot;Psychoanalysis&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1141'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="24" locator="29:1-29:53" name="Race" id="urn:oid:2.16.840.1.114222.4.11.836" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="24">
               <a:s>valueset &quot;Race&quot;: 'urn:oid:2.16.840.1.114222.4.11.836'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="25" locator="30:1-30:82" name="Speech and Hearing Evaluation" id="urn:oid:2.16.840.1.113883.3.526.3.1530" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="25">
               <a:s>valueset &quot;Speech and Hearing Evaluation&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1530'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="26" locator="31:1-31:69" name="Tobacco Non-User" id="urn:oid:2.16.840.1.113883.3.526.3.1189" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="26">
               <a:s>valueset &quot;Tobacco Non-User&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1189'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="27" locator="32:1-32:84" name="Tobacco Use Cessation Counseling" id="urn:oid:2.16.840.1.113883.3.526.3.509" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="27">
               <a:s>valueset &quot;Tobacco Use Cessation Counseling&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.509'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="28" locator="33:1-33:90" name="Tobacco Use Cessation Pharmacotherapy" id="urn:oid:2.16.840.1.113883.3.526.3.1190" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="28">
               <a:s>valueset &quot;Tobacco Use Cessation Pharmacotherapy&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1190'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="29" locator="34:1-34:74" name="Tobacco Use Screening" id="urn:oid:2.16.840.1.113883.3.526.3.1278" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="29">
               <a:s>valueset &quot;Tobacco Use Screening&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1278'</a:s>
            </a:s>
         </annotation>
      </def>
      <def localId="30" locator="35:1-35:65" name="Tobacco User" id="urn:oid:2.16.840.1.113883.3.526.3.1170" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="30">
               <a:s>valueset &quot;Tobacco User&quot;: 'urn:oid:2.16.840.1.113883.3.526.3.1170'</a:s>
            </a:s>
         </annotation>
      </def>
   </valueSets>
   <codes>
      <def localId="32" locator="37:1-37:62" name="Birth date" id="21112-8" display="Birth date" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="32">
               <a:s>code &quot;Birth date&quot;: '21112-8' from </a:s>
               <a:s r="31">
                  <a:s>&quot;LOINC&quot;</a:s>
               </a:s>
               <a:s> display 'Birth date'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="31" locator="37:35-37:41" name="LOINC"/>
      </def>
      <def localId="34" locator="38:1-38:308" name="Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)" id="96156" display="Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="34">
               <a:s>code &quot;Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)&quot;: '96156' from </a:s>
               <a:s r="33">
                  <a:s>&quot;CPT&quot;</a:s>
               </a:s>
               <a:s> display 'Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="33" locator="38:158-38:162" name="CPT"/>
      </def>
      <def localId="36" locator="39:1-39:186" name="Health behavior intervention, individual, face-to-face; initial 30 minutes" id="96158" display="Health behavior intervention, individual, face-to-face; initial 30 minutes" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="36">
               <a:s>code &quot;Health behavior intervention, individual, face-to-face; initial 30 minutes&quot;: '96158' from </a:s>
               <a:s r="35">
                  <a:s>&quot;CPT&quot;</a:s>
               </a:s>
               <a:s> display 'Health behavior intervention, individual, face-to-face; initial 30 minutes'</a:s>
            </a:s>
         </annotation>
         <codeSystem localId="35" locator="39:97-39:101" name="CPT"/>
      </def>
   </codes>
   <contexts>
      <def locator="43:1-43:15" name="Patient"/>
   </contexts>
   <statements>
      <def locator="43:1-43:15" name="Patient" context="Patient">
         <expression xsi:type="SingletonFrom">
            <operand locator="43:1-43:15" xmlns:ns0="urn:healthit-gov:qdm:v5_5" dataType="ns0:Patient" templateId="Patient" xsi:type="Retrieve"/>
         </expression>
      </def>
      <def localId="41" locator="45:1-46:51" name="SDE Ethnicity" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="41">
               <a:s>define &quot;SDE Ethnicity&quot;:
  </a:s>
               <a:s r="40">
                  <a:s>[&quot;Patient Characteristic Ethnicity&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;Ethnicity&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="40" locator="46:3-46:51" xmlns:ns1="urn:healthit-gov:qdm:v5_5" dataType="ns1:PatientCharacteristicEthnicity" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="46:40-46:50" name="Ethnicity" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="43" locator="48:1-49:43" name="SDE Payer" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="43">
               <a:s>define &quot;SDE Payer&quot;:
  </a:s>
               <a:s r="42">
                  <a:s>[&quot;Patient Characteristic Payer&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;Payer&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="42" locator="49:3-49:43" xmlns:ns2="urn:healthit-gov:qdm:v5_5" dataType="ns2:PatientCharacteristicPayer" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="49:36-49:42" name="Payer" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="45" locator="51:1-52:41" name="SDE Race" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="45">
               <a:s>define &quot;SDE Race&quot;:
  </a:s>
               <a:s r="44">
                  <a:s>[&quot;Patient Characteristic Race&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;Race&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="44" locator="52:3-52:41" xmlns:ns3="urn:healthit-gov:qdm:v5_5" dataType="ns3:PatientCharacteristicRace" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="52:35-52:40" name="Race" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="47" locator="54:1-55:58" name="SDE Sex" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="47">
               <a:s>define &quot;SDE Sex&quot;:
  </a:s>
               <a:s r="46">
                  <a:s>[&quot;Patient Characteristic Sex&quot;: </a:s>
                  <a:s>
                     <a:s>&quot;ONC Administrative Sex&quot;</a:s>
                  </a:s>
                  <a:s>]</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="46" locator="55:3-55:58" xmlns:ns4="urn:healthit-gov:qdm:v5_5" dataType="ns4:PatientCharacteristicSex" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
            <codes locator="55:34-55:57" name="ONC Administrative Sex" xsi:type="ValueSetRef"/>
         </expression>
      </def>
      <def localId="65" locator="57:1-64:72" name="Preventive Visit During Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="65">
               <a:s>define &quot;Preventive Visit During Measurement Period&quot;:
  </a:s>
               <a:s r="64">
                  <a:s>
                     <a:s r="59">
                        <a:s r="58">
                           <a:s>( </a:s>
                           <a:s r="58">
                              <a:s r="56">
                                 <a:s r="54">
                                    <a:s r="52">
                                       <a:s r="50">
                                          <a:s r="48">
                                             <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Annual Wellness Visit&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                          <a:s>
    union </a:s>
                                          <a:s r="49">
                                             <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Preventive Care Services - Established Office Visit, 18 and Up&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
    union </a:s>
                                       <a:s r="51">
                                          <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Preventive Care Services - Group Counseling&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
    union </a:s>
                                    <a:s r="53">
                                       <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Preventive Care Services - Other&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
    union </a:s>
                                 <a:s r="55">
                                    <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Preventive Care Services-Individual Counseling&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    union </a:s>
                              <a:s r="57">
                                 <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Preventive Care Services-Initial Office Visit, 18 and Up&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> PreventiveEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="63">
                     <a:s>where </a:s>
                     <a:s r="63">
                        <a:s r="61">
                           <a:s r="60">
                              <a:s>PreventiveEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="61">
                              <a:s>relevantPeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="63"> during </a:s>
                        <a:s r="62">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="64" locator="58:3-64:72" xsi:type="Query">
            <source localId="59" locator="58:3-63:116" alias="PreventiveEncounter">
               <expression localId="58" locator="58:3-63:96" xsi:type="Union">
                  <operand localId="54" locator="58:5-61:70" xsi:type="Union">
                     <operand localId="50" locator="58:5-59:100" xsi:type="Union">
                        <operand localId="48" locator="58:5-58:53" xmlns:ns5="urn:healthit-gov:qdm:v5_5" dataType="ns5:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="58:30-58:52" name="Annual Wellness Visit" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="49" locator="59:11-59:100" xmlns:ns6="urn:healthit-gov:qdm:v5_5" dataType="ns6:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="59:36-59:99" name="Preventive Care Services - Established Office Visit, 18 and Up" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                     <operand xsi:type="Union">
                        <operand localId="51" locator="60:11-60:81" xmlns:ns7="urn:healthit-gov:qdm:v5_5" dataType="ns7:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="60:36-60:80" name="Preventive Care Services - Group Counseling" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="53" locator="61:11-61:70" xmlns:ns8="urn:healthit-gov:qdm:v5_5" dataType="ns8:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="61:36-61:69" name="Preventive Care Services - Other" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand xsi:type="Union">
                     <operand localId="55" locator="62:11-62:84" xmlns:ns9="urn:healthit-gov:qdm:v5_5" dataType="ns9:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="62:36-62:83" name="Preventive Care Services-Individual Counseling" xsi:type="ValueSetRef"/>
                     </operand>
                     <operand localId="57" locator="63:11-63:94" xmlns:ns10="urn:healthit-gov:qdm:v5_5" dataType="ns10:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                        <codes locator="63:36-63:93" name="Preventive Care Services-Initial Office Visit, 18 and Up" xsi:type="ValueSetRef"/>
                     </operand>
                  </operand>
               </expression>
            </source>
            <where localId="63" locator="64:5-64:72" xsi:type="IncludedIn">
               <operand localId="61" locator="64:11-64:44" path="relevantPeriod" scope="PreventiveEncounter" xsi:type="Property"/>
               <operand localId="62" locator="64:53-64:72" name="Measurement Period" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="105" locator="132:1-144:73" name="Office Based Visit During Measurement Period" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="105">
               <a:s>define &quot;Office Based Visit During Measurement Period&quot;:
  </a:s>
               <a:s r="104">
                  <a:s>
                     <a:s r="99">
                        <a:s r="98">
                           <a:s>( </a:s>
                           <a:s r="98">
                              <a:s r="96">
                                 <a:s r="94">
                                    <a:s r="92">
                                       <a:s r="90">
                                          <a:s r="88">
                                             <a:s r="86">
                                                <a:s r="84">
                                                   <a:s r="82">
                                                      <a:s r="80">
                                                         <a:s r="78">
                                                            <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                                            <a:s>
                                                               <a:s>&quot;Health behavior intervention, individual, face-to-face; initial 30 minutes&quot;</a:s>
                                                            </a:s>
                                                            <a:s>]</a:s>
                                                         </a:s>
                                                         <a:s>
    union </a:s>
                                                         <a:s r="79">
                                                            <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                                            <a:s>
                                                               <a:s>&quot;Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)&quot;</a:s>
                                                            </a:s>
                                                            <a:s>]</a:s>
                                                         </a:s>
                                                      </a:s>
                                                      <a:s>
    union </a:s>
                                                      <a:s r="81">
                                                         <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                                         <a:s>
                                                            <a:s>&quot;Home Healthcare Services&quot;</a:s>
                                                         </a:s>
                                                         <a:s>]</a:s>
                                                      </a:s>
                                                   </a:s>
                                                   <a:s>
    union </a:s>
                                                   <a:s r="83">
                                                      <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                                      <a:s>
                                                         <a:s>&quot;Occupational Therapy Evaluation&quot;</a:s>
                                                      </a:s>
                                                      <a:s>]</a:s>
                                                   </a:s>
                                                </a:s>
                                                <a:s>
    union </a:s>
                                                <a:s r="85">
                                                   <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                                   <a:s>
                                                      <a:s>&quot;Office Visit&quot;</a:s>
                                                   </a:s>
                                                   <a:s>]</a:s>
                                                </a:s>
                                             </a:s>
                                             <a:s>
    union </a:s>
                                             <a:s r="87">
                                                <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                                <a:s>
                                                   <a:s>&quot;Ophthalmological Services&quot;</a:s>
                                                </a:s>
                                                <a:s>]</a:s>
                                             </a:s>
                                          </a:s>
                                          <a:s>
    union </a:s>
                                          <a:s r="89">
                                             <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Physical Therapy Evaluation&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>
    union </a:s>
                                       <a:s r="91">
                                          <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                          <a:s>
                                             <a:s>&quot;Psych Visit - Diagnostic Evaluation&quot;</a:s>
                                          </a:s>
                                          <a:s>]</a:s>
                                       </a:s>
                                    </a:s>
                                    <a:s>
    union </a:s>
                                    <a:s r="93">
                                       <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Psych Visit - Psychotherapy&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
    union </a:s>
                                 <a:s r="95">
                                    <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Psychoanalysis&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
    union </a:s>
                              <a:s r="97">
                                 <a:s>[&quot;Encounter, Performed&quot;: </a:s>
                                 <a:s>
                                    <a:s>&quot;Speech and Hearing Evaluation&quot;</a:s>
                                 </a:s>
                                 <a:s>]</a:s>
                              </a:s>
                           </a:s>
                           <a:s> )</a:s>
                        </a:s>
                        <a:s> OfficeBasedEncounter</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="103">
                     <a:s>where </a:s>
                     <a:s r="103">
                        <a:s r="101">
                           <a:s r="100">
                              <a:s>OfficeBasedEncounter</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="101">
                              <a:s>relevantPeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="103"> during </a:s>
                        <a:s r="102">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="104" locator="133:3-144:73" xsi:type="Query">
            <source localId="99" locator="133:3-143:90" alias="OfficeBasedEncounter">
               <expression localId="98" locator="133:3-143:69" xsi:type="Union">
                  <operand localId="96" locator="133:5-142:52" xsi:type="Union">
                     <operand localId="92" locator="133:5-140:73" xsi:type="Union">
                        <operand localId="88" locator="133:5-138:63" xsi:type="Union">
                           <operand localId="84" locator="133:5-136:69" xsi:type="Union">
                              <operand localId="80" locator="133:5-134:173" xsi:type="Union">
                                 <operand localId="78" locator="133:5-133:106" xmlns:ns11="urn:healthit-gov:qdm:v5_5" dataType="ns11:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                                    <codes xsi:type="ToList">
                                       <operand locator="133:30-133:105" name="Health behavior intervention, individual, face-to-face; initial 30 minutes" xsi:type="CodeRef"/>
                                    </codes>
                                 </operand>
                                 <operand localId="79" locator="134:11-134:173" xmlns:ns12="urn:healthit-gov:qdm:v5_5" dataType="ns12:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                                    <codes xsi:type="ToList">
                                       <operand locator="134:36-134:172" name="Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)" xsi:type="CodeRef"/>
                                    </codes>
                                 </operand>
                              </operand>
                              <operand xsi:type="Union">
                                 <operand localId="81" locator="135:11-135:62" xmlns:ns13="urn:healthit-gov:qdm:v5_5" dataType="ns13:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                                    <codes locator="135:36-135:61" name="Home Healthcare Services" xsi:type="ValueSetRef"/>
                                 </operand>
                                 <operand localId="83" locator="136:11-136:69" xmlns:ns14="urn:healthit-gov:qdm:v5_5" dataType="ns14:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                                    <codes locator="136:36-136:68" name="Occupational Therapy Evaluation" xsi:type="ValueSetRef"/>
                                 </operand>
                              </operand>
                           </operand>
                           <operand xsi:type="Union">
                              <operand localId="85" locator="137:11-137:50" xmlns:ns15="urn:healthit-gov:qdm:v5_5" dataType="ns15:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                                 <codes locator="137:36-137:49" name="Office Visit" xsi:type="ValueSetRef"/>
                              </operand>
                              <operand localId="87" locator="138:11-138:63" xmlns:ns16="urn:healthit-gov:qdm:v5_5" dataType="ns16:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                                 <codes locator="138:36-138:62" name="Ophthalmological Services" xsi:type="ValueSetRef"/>
                              </operand>
                           </operand>
                        </operand>
                        <operand xsi:type="Union">
                           <operand localId="89" locator="139:11-139:65" xmlns:ns17="urn:healthit-gov:qdm:v5_5" dataType="ns17:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                              <codes locator="139:36-139:64" name="Physical Therapy Evaluation" xsi:type="ValueSetRef"/>
                           </operand>
                           <operand localId="91" locator="140:11-140:73" xmlns:ns18="urn:healthit-gov:qdm:v5_5" dataType="ns18:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                              <codes locator="140:36-140:72" name="Psych Visit - Diagnostic Evaluation" xsi:type="ValueSetRef"/>
                           </operand>
                        </operand>
                     </operand>
                     <operand xsi:type="Union">
                        <operand localId="93" locator="141:11-141:65" xmlns:ns19="urn:healthit-gov:qdm:v5_5" dataType="ns19:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="141:36-141:64" name="Psych Visit - Psychotherapy" xsi:type="ValueSetRef"/>
                        </operand>
                        <operand localId="95" locator="142:11-142:52" xmlns:ns20="urn:healthit-gov:qdm:v5_5" dataType="ns20:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="142:36-142:51" name="Psychoanalysis" xsi:type="ValueSetRef"/>
                        </operand>
                     </operand>
                  </operand>
                  <operand localId="97" locator="143:11-143:67" xmlns:ns21="urn:healthit-gov:qdm:v5_5" dataType="ns21:PositiveEncounterPerformed" templateId="PositiveEncounterPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="143:36-143:66" name="Speech and Hearing Evaluation" xsi:type="ValueSetRef"/>
                  </operand>
               </expression>
            </source>
            <where localId="103" locator="144:5-144:73" xsi:type="IncludedIn">
               <operand localId="101" locator="144:11-144:45" path="relevantPeriod" scope="OfficeBasedEncounter" xsi:type="Property"/>
               <operand localId="102" locator="144:54-144:73" name="Measurement Period" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="114" locator="72:1-78:5" name="Initial Population" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="114">
               <a:s>define &quot;Initial Population&quot;:
  </a:s>
               <a:s r="113">
                  <a:s r="77">
                     <a:s>exists </a:s>
                     <a:s r="76">
                        <a:s>( </a:s>
                        <a:s r="76">
                           <a:s>
                              <a:s r="67">
                                 <a:s r="66">
                                    <a:s r="66">
                                       <a:s>[&quot;Patient Characteristic Birthdate&quot;: </a:s>
                                       <a:s>
                                          <a:s>&quot;Birth date&quot;</a:s>
                                       </a:s>
                                       <a:s>]</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s> BirthDate</a:s>
                              </a:s>
                           </a:s>
                           <a:s>
      </a:s>
                           <a:s r="75">
                              <a:s>where </a:s>
                              <a:s r="75">
                                 <a:s r="73">
                                    <a:s r="68">
                                       <a:s>Global</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="73">
                                       <a:s>&quot;CalendarAgeInYearsAt&quot; ( </a:s>
                                       <a:s r="70">
                                          <a:s r="69">
                                             <a:s>BirthDate</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="70">
                                             <a:s>birthDatetime</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s>, </a:s>
                                       <a:s r="72">
                                          <a:s>start of </a:s>
                                          <a:s r="71">
                                             <a:s>&quot;Measurement Period&quot;</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> )</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s r="74"> >= 18</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                        <a:s>
  )</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="112">
                     <a:s>( </a:s>
                     <a:s r="112">
                        <a:s r="109">
                           <a:s r="107">
                              <a:s>Count(</a:s>
                              <a:s r="106">
                                 <a:s>&quot;Office Based Visit During Measurement Period&quot;</a:s>
                              </a:s>
                              <a:s>)</a:s>
                           </a:s>
                           <a:s r="108">>= 2</a:s>
                        </a:s>
                        <a:s>
        or </a:s>
                        <a:s r="111">
                           <a:s>exists </a:s>
                           <a:s r="110">
                              <a:s>&quot;Preventive Visit During Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="113" locator="73:3-78:5" xsi:type="And">
            <operand localId="77" locator="73:3-75:3" xsi:type="Exists">
               <operand localId="76" locator="73:10-75:3" xsi:type="Query">
                  <source localId="67" locator="73:12-73:71" alias="BirthDate">
                     <expression localId="66" locator="73:12-73:61" xmlns:ns22="urn:healthit-gov:qdm:v5_5" dataType="ns22:PatientCharacteristicBirthdate" codeProperty="code" codeComparator="~" xsi:type="Retrieve">
                        <codes xsi:type="ToList">
                           <operand locator="73:49-73:60" name="Birth date" xsi:type="CodeRef"/>
                        </codes>
                     </expression>
                  </source>
                  <where localId="75" locator="74:7-74:106" xsi:type="GreaterOrEqual">
                     <operand localId="73" locator="74:13-74:100" name="CalendarAgeInYearsAt" libraryName="Global" xsi:type="FunctionRef">
                        <operand localId="70" locator="74:45-74:67" path="birthDatetime" scope="BirthDate" xsi:type="Property"/>
                        <operand localId="72" locator="74:70-74:98" xsi:type="Start">
                           <operand localId="71" locator="74:79-74:98" name="Measurement Period" xsi:type="ParameterRef"/>
                        </operand>
                     </operand>
                     <operand localId="74" locator="74:105-74:106" valueType="t:Integer" value="18" xsi:type="Literal"/>
                  </where>
               </operand>
            </operand>
            <operand localId="112" locator="76:9-78:5" xsi:type="Or">
               <operand localId="109" locator="76:11-76:67" xsi:type="GreaterOrEqual">
                  <operand localId="107" locator="76:11-76:63" xsi:type="Count">
                     <source localId="106" locator="76:17-76:62" name="Office Based Visit During Measurement Period" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="108" locator="76:67" valueType="t:Integer" value="2" xsi:type="Literal"/>
               </operand>
               <operand localId="111" locator="77:12-77:62" xsi:type="Exists">
                  <operand localId="110" locator="77:19-77:62" name="Preventive Visit During Measurement Period" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="116" locator="66:1-67:22" name="Denominator 1" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="116">
               <a:s>define &quot;Denominator 1&quot;:
  </a:s>
               <a:s r="115">
                  <a:s>&quot;Initial Population&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="115" locator="67:3-67:22" name="Initial Population" xsi:type="ExpressionRef"/>
      </def>
      <def localId="118" locator="69:1-70:22" name="Denominator 3" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="118">
               <a:s>define &quot;Denominator 3&quot;:
  </a:s>
               <a:s r="117">
                  <a:s>&quot;Initial Population&quot;</a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="117" locator="70:3-70:22" name="Initial Population" xsi:type="ExpressionRef"/>
      </def>
      <def localId="131" locator="80:1-83:69" name="Medical Reason for Not Screening for Tobacco Use" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="131">
               <a:s>define &quot;Medical Reason for Not Screening for Tobacco Use&quot;:
  </a:s>
               <a:s r="130">
                  <a:s>
                     <a:s r="120">
                        <a:s r="119">
                           <a:s r="119">
                              <a:s>[&quot;Assessment, Not Performed&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Tobacco Use Screening&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoTobaccoUseScreening</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="129">
                     <a:s>where </a:s>
                     <a:s r="129">
                        <a:s r="124">
                           <a:s r="122">
                              <a:s r="121">
                                 <a:s>NoTobaccoUseScreening</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="122">
                                 <a:s>authorDatetime</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="124"> during </a:s>
                           <a:s r="123">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="128">
                           <a:s r="126">
                              <a:s r="125">
                                 <a:s>NoTobaccoUseScreening</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="126">
                                 <a:s>negationRationale</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="127">
                              <a:s>&quot;Medical Reason&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="130" locator="81:3-83:69" xsi:type="Query">
            <source localId="120" locator="81:3-81:78" alias="NoTobaccoUseScreening">
               <expression localId="119" locator="81:3-81:56" xmlns:ns23="urn:healthit-gov:qdm:v5_5" dataType="ns23:NegativeAssessmentPerformed" templateId="NegativeAssessmentPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="81:33-81:55" name="Tobacco Use Screening" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="129" locator="82:5-83:69" xsi:type="And">
               <operand localId="124" locator="82:11-82:74" xsi:type="In">
                  <operand localId="122" locator="82:11-82:46" path="authorDatetime" scope="NoTobaccoUseScreening" xsi:type="Property"/>
                  <operand localId="123" locator="82:55-82:74" name="Measurement Period" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="128" locator="83:11-83:69" xsi:type="InValueSet">
                  <code localId="126" locator="83:11-83:49" path="negationRationale" scope="NoTobaccoUseScreening" xsi:type="Property"/>
                  <valueset localId="127" locator="83:54-83:69" name="Medical Reason" xsi:type="ValueSetRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="144" locator="85:1-88:81" name="Medical Reason for Not Ordering Tobacco Cessation Pharmacotherapy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="144">
               <a:s>define &quot;Medical Reason for Not Ordering Tobacco Cessation Pharmacotherapy&quot;:
  </a:s>
               <a:s r="143">
                  <a:s>
                     <a:s r="133">
                        <a:s r="132">
                           <a:s r="132">
                              <a:s>[&quot;Medication, Not Ordered&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Tobacco Use Cessation Pharmacotherapy&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoCessationPharmacotherapyOrdered</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="142">
                     <a:s>where </a:s>
                     <a:s r="142">
                        <a:s r="137">
                           <a:s r="135">
                              <a:s r="134">
                                 <a:s>NoCessationPharmacotherapyOrdered</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="135">
                                 <a:s>authorDatetime</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="137"> during </a:s>
                           <a:s r="136">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="141">
                           <a:s r="139">
                              <a:s r="138">
                                 <a:s>NoCessationPharmacotherapyOrdered</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="139">
                                 <a:s>negationRationale</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="140">
                              <a:s>&quot;Medical Reason&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="143" locator="86:3-88:81" xsi:type="Query">
            <source localId="133" locator="86:3-86:104" alias="NoCessationPharmacotherapyOrdered">
               <expression localId="132" locator="86:3-86:70" xmlns:ns24="urn:healthit-gov:qdm:v5_5" dataType="ns24:NegativeMedicationOrder" templateId="NegativeMedicationOrder" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="86:31-86:69" name="Tobacco Use Cessation Pharmacotherapy" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="142" locator="87:5-88:81" xsi:type="And">
               <operand localId="137" locator="87:11-87:86" xsi:type="In">
                  <operand localId="135" locator="87:11-87:58" path="authorDatetime" scope="NoCessationPharmacotherapyOrdered" xsi:type="Property"/>
                  <operand localId="136" locator="87:67-87:86" name="Measurement Period" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="141" locator="88:11-88:81" xsi:type="InValueSet">
                  <code localId="139" locator="88:11-88:61" path="negationRationale" scope="NoCessationPharmacotherapyOrdered" xsi:type="Property"/>
                  <valueset localId="140" locator="88:66-88:81" name="Medical Reason" xsi:type="ValueSetRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="157" locator="90:1-93:76" name="Medical Reason for Not Counseling Tobacco User" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="157">
               <a:s>define &quot;Medical Reason for Not Counseling Tobacco User&quot;:
  </a:s>
               <a:s r="156">
                  <a:s>
                     <a:s r="146">
                        <a:s r="145">
                           <a:s r="145">
                              <a:s>[&quot;Intervention, Not Performed&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Tobacco Use Cessation Counseling&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> NoTobaccoCessationCounseling</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="155">
                     <a:s>where </a:s>
                     <a:s r="155">
                        <a:s r="150">
                           <a:s r="148">
                              <a:s r="147">
                                 <a:s>NoTobaccoCessationCounseling</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="148">
                                 <a:s>authorDatetime</a:s>
                              </a:s>
                           </a:s>
                           <a:s r="150"> during </a:s>
                           <a:s r="149">
                              <a:s>&quot;Measurement Period&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      and </a:s>
                        <a:s r="154">
                           <a:s r="152">
                              <a:s r="151">
                                 <a:s>NoTobaccoCessationCounseling</a:s>
                              </a:s>
                              <a:s>.</a:s>
                              <a:s r="152">
                                 <a:s>negationRationale</a:s>
                              </a:s>
                           </a:s>
                           <a:s> in </a:s>
                           <a:s r="153">
                              <a:s>&quot;Medical Reason&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="156" locator="91:3-93:76" xsi:type="Query">
            <source localId="146" locator="91:3-91:98" alias="NoTobaccoCessationCounseling">
               <expression localId="145" locator="91:3-91:69" xmlns:ns25="urn:healthit-gov:qdm:v5_5" dataType="ns25:NegativeInterventionPerformed" templateId="NegativeInterventionPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="91:35-91:68" name="Tobacco Use Cessation Counseling" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="155" locator="92:5-93:76" xsi:type="And">
               <operand localId="150" locator="92:11-92:81" xsi:type="In">
                  <operand localId="148" locator="92:11-92:53" path="authorDatetime" scope="NoTobaccoCessationCounseling" xsi:type="Property"/>
                  <operand localId="149" locator="92:62-92:81" name="Measurement Period" xsi:type="ParameterRef"/>
               </operand>
               <operand localId="154" locator="93:11-93:76" xsi:type="InValueSet">
                  <code localId="152" locator="93:11-93:56" path="negationRationale" scope="NoTobaccoCessationCounseling" xsi:type="Property"/>
                  <valueset localId="153" locator="93:61-93:76" name="Medical Reason" xsi:type="ValueSetRef"/>
               </operand>
            </where>
         </expression>
      </def>
      <def localId="165" locator="95:1-97:84" name="Tobacco Cessation Pharmacotherapy Ordered" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="165">
               <a:s>define &quot;Tobacco Cessation Pharmacotherapy Ordered&quot;:
  </a:s>
               <a:s r="164">
                  <a:s>
                     <a:s r="159">
                        <a:s r="158">
                           <a:s r="158">
                              <a:s>[&quot;Medication, Order&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Tobacco Use Cessation Pharmacotherapy&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> CessationPharmacotherapyOrdered</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="163">
                     <a:s>where </a:s>
                     <a:s r="163">
                        <a:s r="161">
                           <a:s r="160">
                              <a:s>CessationPharmacotherapyOrdered</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="161">
                              <a:s>authorDatetime</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="163"> during </a:s>
                        <a:s r="162">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="164" locator="96:3-97:84" xsi:type="Query">
            <source localId="159" locator="96:3-96:96" alias="CessationPharmacotherapyOrdered">
               <expression localId="158" locator="96:3-96:64" xmlns:ns26="urn:healthit-gov:qdm:v5_5" dataType="ns26:PositiveMedicationOrder" templateId="PositiveMedicationOrder" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="96:25-96:63" name="Tobacco Use Cessation Pharmacotherapy" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="163" locator="97:5-97:84" xsi:type="In">
               <operand localId="161" locator="97:11-97:56" path="authorDatetime" scope="CessationPharmacotherapyOrdered" xsi:type="Property"/>
               <operand localId="162" locator="97:65-97:84" name="Measurement Period" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="173" locator="99:1-101:91" name="Active Pharmacotherapy for Tobacco Cessation" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="173">
               <a:s>define &quot;Active Pharmacotherapy for Tobacco Cessation&quot;:
  </a:s>
               <a:s r="172">
                  <a:s>
                     <a:s r="167">
                        <a:s r="166">
                           <a:s r="166">
                              <a:s>[&quot;Medication, Active&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Tobacco Use Cessation Pharmacotherapy&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> TakingCessationPharmacotherapy</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="171">
                     <a:s>where </a:s>
                     <a:s r="171">
                        <a:s r="169">
                           <a:s r="168">
                              <a:s>TakingCessationPharmacotherapy</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="169">
                              <a:s>relevantPeriod</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="171"> overlaps after </a:s>
                        <a:s r="170">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="172" locator="100:3-101:91" xsi:type="Query">
            <source localId="167" locator="100:3-100:96" alias="TakingCessationPharmacotherapy">
               <expression localId="166" locator="100:3-100:65" xmlns:ns27="urn:healthit-gov:qdm:v5_5" dataType="ns27:MedicationActive" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="100:26-100:64" name="Tobacco Use Cessation Pharmacotherapy" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="171" locator="101:5-101:91" xsi:type="OverlapsAfter">
               <operand localId="169" locator="101:11-101:55" path="relevantPeriod" scope="TakingCessationPharmacotherapy" xsi:type="Property"/>
               <operand localId="170" locator="101:72-101:91" name="Measurement Period" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="181" locator="103:1-105:81" name="Tobacco Cessation Counseling Given" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="181">
               <a:s>define &quot;Tobacco Cessation Counseling Given&quot;:
  </a:s>
               <a:s r="180">
                  <a:s>
                     <a:s r="175">
                        <a:s r="174">
                           <a:s r="174">
                              <a:s>[&quot;Intervention, Performed&quot;: </a:s>
                              <a:s>
                                 <a:s>&quot;Tobacco Use Cessation Counseling&quot;</a:s>
                              </a:s>
                              <a:s>]</a:s>
                           </a:s>
                        </a:s>
                        <a:s> TobaccoCessationCounseling</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="179">
                     <a:s>where </a:s>
                     <a:s r="179">
                        <a:s r="177">
                           <a:s r="176">
                              <a:s>TobaccoCessationCounseling</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="177">
                              <a:s>relevantDatetime</a:s>
                           </a:s>
                        </a:s>
                        <a:s r="179"> during </a:s>
                        <a:s r="178">
                           <a:s>&quot;Measurement Period&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="180" locator="104:3-105:81" xsi:type="Query">
            <source localId="175" locator="104:3-104:92" alias="TobaccoCessationCounseling">
               <expression localId="174" locator="104:3-104:65" xmlns:ns28="urn:healthit-gov:qdm:v5_5" dataType="ns28:PositiveInterventionPerformed" templateId="PositiveInterventionPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                  <codes locator="104:31-104:64" name="Tobacco Use Cessation Counseling" xsi:type="ValueSetRef"/>
               </expression>
            </source>
            <where localId="179" locator="105:5-105:81" xsi:type="In">
               <operand localId="177" locator="105:11-105:53" path="relevantDatetime" scope="TobaccoCessationCounseling" xsi:type="Property"/>
               <operand localId="178" locator="105:62-105:81" name="Measurement Period" xsi:type="ParameterRef"/>
            </where>
         </expression>
      </def>
      <def localId="190" locator="107:1-110:60" name="Numerator 2" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="190">
               <a:s>define &quot;Numerator 2&quot;:
  </a:s>
               <a:s r="189">
                  <a:s r="186">
                     <a:s r="183">
                        <a:s>exists </a:s>
                        <a:s r="182">
                           <a:s>&quot;Tobacco Cessation Counseling Given&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="185">
                        <a:s>exists </a:s>
                        <a:s r="184">
                           <a:s>&quot;Tobacco Cessation Pharmacotherapy Ordered&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="188">
                     <a:s>exists </a:s>
                     <a:s r="187">
                        <a:s>&quot;Active Pharmacotherapy for Tobacco Cessation&quot;</a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="189" locator="108:3-110:60" xsi:type="Or">
            <operand localId="186" locator="108:3-109:57" xsi:type="Or">
               <operand localId="183" locator="108:3-108:45" xsi:type="Exists">
                  <operand localId="182" locator="108:10-108:45" name="Tobacco Cessation Counseling Given" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="185" locator="109:8-109:57" xsi:type="Exists">
                  <operand localId="184" locator="109:15-109:57" name="Tobacco Cessation Pharmacotherapy Ordered" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="188" locator="110:8-110:60" xsi:type="Exists">
               <operand localId="187" locator="110:15-110:60" name="Active Pharmacotherapy for Tobacco Cessation" xsi:type="ExpressionRef"/>
            </operand>
         </expression>
      </def>
      <def localId="199" locator="112:1-115:3" name="Has Limited Life Expectancy" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="199">
               <a:s>define &quot;Has Limited Life Expectancy&quot;:
  </a:s>
               <a:s r="198">
                  <a:s>exists </a:s>
                  <a:s r="197">
                     <a:s>( </a:s>
                     <a:s r="197">
                        <a:s>
                           <a:s r="192">
                              <a:s r="191">
                                 <a:s r="191">
                                    <a:s>[&quot;Diagnosis&quot;: </a:s>
                                    <a:s>
                                       <a:s>&quot;Limited Life Expectancy&quot;</a:s>
                                    </a:s>
                                    <a:s>]</a:s>
                                 </a:s>
                              </a:s>
                              <a:s> LimitedLifeExpectancy</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
      </a:s>
                        <a:s r="196">
                           <a:s>where </a:s>
                           <a:s r="196">
                              <a:s r="194">
                                 <a:s r="193">
                                    <a:s>LimitedLifeExpectancy</a:s>
                                 </a:s>
                                 <a:s>.</a:s>
                                 <a:s r="194">
                                    <a:s>prevalencePeriod</a:s>
                                 </a:s>
                              </a:s>
                              <a:s r="196"> overlaps after </a:s>
                              <a:s r="195">
                                 <a:s>&quot;Measurement Period&quot;</a:s>
                              </a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
  )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="198" locator="113:3-115:3" xsi:type="Exists">
            <operand localId="197" locator="113:10-115:3" xsi:type="Query">
               <source localId="192" locator="113:12-113:73" alias="LimitedLifeExpectancy">
                  <expression localId="191" locator="113:12-113:51" xmlns:ns29="urn:healthit-gov:qdm:v5_5" dataType="ns29:Diagnosis" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                     <codes locator="113:26-113:50" name="Limited Life Expectancy" xsi:type="ValueSetRef"/>
                  </expression>
               </source>
               <where localId="196" locator="114:7-114:86" xsi:type="OverlapsAfter">
                  <operand localId="194" locator="114:13-114:50" path="prevalencePeriod" scope="LimitedLifeExpectancy" xsi:type="Property"/>
                  <operand localId="195" locator="114:67-114:86" name="Measurement Period" xsi:type="ParameterRef"/>
               </where>
            </operand>
         </expression>
      </def>
      <def localId="204" locator="117:1-119:36" name="Denominator Exceptions 1" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="204">
               <a:s>define &quot;Denominator Exceptions 1&quot;:
  </a:s>
               <a:s r="203">
                  <a:s r="201">
                     <a:s>exists </a:s>
                     <a:s r="200">
                        <a:s>&quot;Medical Reason for Not Screening for Tobacco Use&quot;</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="202">
                     <a:s>&quot;Has Limited Life Expectancy&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="203" locator="118:3-119:36" xsi:type="Or">
            <operand localId="201" locator="118:3-118:59" xsi:type="Exists">
               <operand localId="200" locator="118:10-118:59" name="Medical Reason for Not Screening for Tobacco Use" xsi:type="ExpressionRef"/>
            </operand>
            <operand localId="202" locator="119:8-119:36" name="Has Limited Life Expectancy" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="212" locator="121:1-124:36" name="Denominator Exceptions 2" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="212">
               <a:s>define &quot;Denominator Exceptions 2&quot;:
  </a:s>
               <a:s r="211">
                  <a:s r="209">
                     <a:s r="206">
                        <a:s>exists </a:s>
                        <a:s r="205">
                           <a:s>&quot;Medical Reason for Not Counseling Tobacco User&quot;</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="208">
                        <a:s>exists </a:s>
                        <a:s r="207">
                           <a:s>&quot;Medical Reason for Not Ordering Tobacco Cessation Pharmacotherapy&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="210">
                     <a:s>&quot;Has Limited Life Expectancy&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="211" locator="122:3-124:36" xsi:type="Or">
            <operand localId="209" locator="122:3-123:81" xsi:type="Or">
               <operand localId="206" locator="122:3-122:57" xsi:type="Exists">
                  <operand localId="205" locator="122:10-122:57" name="Medical Reason for Not Counseling Tobacco User" xsi:type="ExpressionRef"/>
               </operand>
               <operand localId="208" locator="123:8-123:81" xsi:type="Exists">
                  <operand localId="207" locator="123:15-123:81" name="Medical Reason for Not Ordering Tobacco Cessation Pharmacotherapy" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="210" locator="124:8-124:36" name="Has Limited Life Expectancy" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="223" locator="126:1-130:36" name="Denominator Exceptions 3" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="223">
               <a:s>define &quot;Denominator Exceptions 3&quot;:
  </a:s>
               <a:s r="222">
                  <a:s r="220">
                     <a:s r="217">
                        <a:s r="214">
                           <a:s>exists </a:s>
                           <a:s r="213">
                              <a:s>&quot;Medical Reason for Not Screening for Tobacco Use&quot;</a:s>
                           </a:s>
                        </a:s>
                        <a:s>
    or </a:s>
                        <a:s r="216">
                           <a:s>exists </a:s>
                           <a:s r="215">
                              <a:s>&quot;Medical Reason for Not Counseling Tobacco User&quot;</a:s>
                           </a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    or </a:s>
                     <a:s r="219">
                        <a:s>exists </a:s>
                        <a:s r="218">
                           <a:s>&quot;Medical Reason for Not Ordering Tobacco Cessation Pharmacotherapy&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="221">
                     <a:s>&quot;Has Limited Life Expectancy&quot;</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="222" locator="127:3-130:36" xsi:type="Or">
            <operand localId="220" locator="127:3-129:81" xsi:type="Or">
               <operand localId="217" locator="127:3-128:62" xsi:type="Or">
                  <operand localId="214" locator="127:3-127:59" xsi:type="Exists">
                     <operand localId="213" locator="127:10-127:59" name="Medical Reason for Not Screening for Tobacco Use" xsi:type="ExpressionRef"/>
                  </operand>
                  <operand localId="216" locator="128:8-128:62" xsi:type="Exists">
                     <operand localId="215" locator="128:15-128:62" name="Medical Reason for Not Counseling Tobacco User" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="219" locator="129:8-129:81" xsi:type="Exists">
                  <operand localId="218" locator="129:15-129:81" name="Medical Reason for Not Ordering Tobacco Cessation Pharmacotherapy" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="221" locator="130:8-130:36" name="Has Limited Life Expectancy" xsi:type="ExpressionRef"/>
         </expression>
      </def>
      <def localId="241" locator="146:1-151:68" name="Most Recent Tobacco Use Screening Indicates Tobacco Non User" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="241">
               <a:s>define &quot;Most Recent Tobacco Use Screening Indicates Tobacco Non User&quot;:
  </a:s>
               <a:s r="240">
                  <a:s>
                     <a:s r="235">
                        <a:s r="234">
                           <a:s>( </a:s>
                           <a:s r="234">
                              <a:s>Last(</a:s>
                              <a:s r="233">
                                 <a:s>
                                    <a:s r="225">
                                       <a:s r="224">
                                          <a:s r="224">
                                             <a:s>[&quot;Assessment, Performed&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Tobacco Use Screening&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> TobaccoUseScreening</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="229">
                                    <a:s>where </a:s>
                                    <a:s r="229">
                                       <a:s r="227">
                                          <a:s r="226">
                                             <a:s>TobaccoUseScreening</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="227">
                                             <a:s>relevantDatetime</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="229"> during </a:s>
                                       <a:s r="228">
                                          <a:s>&quot;Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="232">
                                    <a:s>sort by </a:s>
                                    <a:s r="231">
                                       <a:s r="230">
                                          <a:s>relevantDatetime</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
  )</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> MostRecentTobaccoUseScreening</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="239">
                     <a:s>where </a:s>
                     <a:s r="239">
                        <a:s r="237">
                           <a:s r="236">
                              <a:s>MostRecentTobaccoUseScreening</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="237">
                              <a:s>result</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="238">
                           <a:s>&quot;Tobacco Non-User&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="240" locator="147:3-151:68" xsi:type="Query">
            <source localId="235" locator="147:3-150:34" alias="MostRecentTobaccoUseScreening">
               <expression localId="234" locator="147:3-150:4" xsi:type="Last">
                  <source localId="233" locator="147:10-149:30" xsi:type="Query">
                     <source localId="225" locator="147:10-147:79" alias="TobaccoUseScreening">
                        <expression localId="224" locator="147:10-147:59" xmlns:ns30="urn:healthit-gov:qdm:v5_5" dataType="ns30:PositiveAssessmentPerformed" templateId="PositiveAssessmentPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="147:36-147:58" name="Tobacco Use Screening" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="229" locator="148:7-148:76" xsi:type="In">
                        <operand localId="227" locator="148:13-148:48" path="relevantDatetime" scope="TobaccoUseScreening" xsi:type="Property"/>
                        <operand localId="228" locator="148:57-148:76" name="Measurement Period" xsi:type="ParameterRef"/>
                     </where>
                     <sort localId="232" locator="149:7-149:30">
                        <by localId="231" locator="149:15-149:30" direction="asc" path="relevantDatetime" xsi:type="ByColumn"/>
                     </sort>
                  </source>
               </expression>
            </source>
            <where localId="239" locator="151:5-151:68" xsi:type="InValueSet">
               <code asType="t:Code" xsi:type="As">
                  <operand localId="237" locator="151:11-151:46" path="result" scope="MostRecentTobaccoUseScreening" xsi:type="Property"/>
               </code>
               <valueset localId="238" locator="151:51-151:68" name="Tobacco Non-User" xsi:type="ValueSetRef"/>
            </where>
         </expression>
      </def>
      <def localId="259" locator="153:1-158:64" name="Most Recent Tobacco Use Screening Indicates Tobacco User" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="259">
               <a:s>define &quot;Most Recent Tobacco Use Screening Indicates Tobacco User&quot;:
  </a:s>
               <a:s r="258">
                  <a:s>
                     <a:s r="253">
                        <a:s r="252">
                           <a:s>( </a:s>
                           <a:s r="252">
                              <a:s>Last(</a:s>
                              <a:s r="251">
                                 <a:s>
                                    <a:s r="243">
                                       <a:s r="242">
                                          <a:s r="242">
                                             <a:s>[&quot;Assessment, Performed&quot;: </a:s>
                                             <a:s>
                                                <a:s>&quot;Tobacco Use Screening&quot;</a:s>
                                             </a:s>
                                             <a:s>]</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s> TobaccoUseScreening</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="247">
                                    <a:s>where </a:s>
                                    <a:s r="247">
                                       <a:s r="245">
                                          <a:s r="244">
                                             <a:s>TobaccoUseScreening</a:s>
                                          </a:s>
                                          <a:s>.</a:s>
                                          <a:s r="245">
                                             <a:s>relevantDatetime</a:s>
                                          </a:s>
                                       </a:s>
                                       <a:s r="247"> during </a:s>
                                       <a:s r="246">
                                          <a:s>&quot;Measurement Period&quot;</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
      </a:s>
                                 <a:s r="250">
                                    <a:s>sort by </a:s>
                                    <a:s r="249">
                                       <a:s r="248">
                                          <a:s>relevantDatetime</a:s>
                                       </a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
  )</a:s>
                           </a:s>
                           <a:s>)</a:s>
                        </a:s>
                        <a:s> MostRecentTobaccoUseScreening</a:s>
                     </a:s>
                  </a:s>
                  <a:s>
    </a:s>
                  <a:s r="257">
                     <a:s>where </a:s>
                     <a:s r="257">
                        <a:s r="255">
                           <a:s r="254">
                              <a:s>MostRecentTobaccoUseScreening</a:s>
                           </a:s>
                           <a:s>.</a:s>
                           <a:s r="255">
                              <a:s>result</a:s>
                           </a:s>
                        </a:s>
                        <a:s> in </a:s>
                        <a:s r="256">
                           <a:s>&quot;Tobacco User&quot;</a:s>
                        </a:s>
                     </a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="258" locator="154:3-158:64" xsi:type="Query">
            <source localId="253" locator="154:3-157:34" alias="MostRecentTobaccoUseScreening">
               <expression localId="252" locator="154:3-157:4" xsi:type="Last">
                  <source localId="251" locator="154:10-156:30" xsi:type="Query">
                     <source localId="243" locator="154:10-154:79" alias="TobaccoUseScreening">
                        <expression localId="242" locator="154:10-154:59" xmlns:ns31="urn:healthit-gov:qdm:v5_5" dataType="ns31:PositiveAssessmentPerformed" templateId="PositiveAssessmentPerformed" codeProperty="code" codeComparator="in" xsi:type="Retrieve">
                           <codes locator="154:36-154:58" name="Tobacco Use Screening" xsi:type="ValueSetRef"/>
                        </expression>
                     </source>
                     <where localId="247" locator="155:7-155:76" xsi:type="In">
                        <operand localId="245" locator="155:13-155:48" path="relevantDatetime" scope="TobaccoUseScreening" xsi:type="Property"/>
                        <operand localId="246" locator="155:57-155:76" name="Measurement Period" xsi:type="ParameterRef"/>
                     </where>
                     <sort localId="250" locator="156:7-156:30">
                        <by localId="249" locator="156:15-156:30" direction="asc" path="relevantDatetime" xsi:type="ByColumn"/>
                     </sort>
                  </source>
               </expression>
            </source>
            <where localId="257" locator="158:5-158:64" xsi:type="InValueSet">
               <code asType="t:Code" xsi:type="As">
                  <operand localId="255" locator="158:11-158:46" path="result" scope="MostRecentTobaccoUseScreening" xsi:type="Property"/>
               </code>
               <valueset localId="256" locator="158:51-158:64" name="Tobacco User" xsi:type="ValueSetRef"/>
            </where>
         </expression>
      </def>
      <def localId="264" locator="160:1-162:78" name="Denominator 2" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="264">
               <a:s>define &quot;Denominator 2&quot;:
  </a:s>
               <a:s r="263">
                  <a:s r="260">
                     <a:s>&quot;Initial Population&quot;</a:s>
                  </a:s>
                  <a:s>
    and </a:s>
                  <a:s r="262">
                     <a:s r="261">
                        <a:s>&quot;Most Recent Tobacco Use Screening Indicates Tobacco User&quot;</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="263" locator="161:3-162:78" xsi:type="And">
            <operand localId="260" locator="161:3-161:22" name="Initial Population" xsi:type="ExpressionRef"/>
            <operand localId="262" locator="162:9-162:78" xsi:type="Not">
               <operand locator="162:9-162:78" xsi:type="IsNull">
                  <operand localId="261" locator="162:9-162:66" name="Most Recent Tobacco Use Screening Indicates Tobacco User" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="270" locator="164:1-166:77" name="Numerator 1" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="270">
               <a:s>define &quot;Numerator 1&quot;:
  </a:s>
               <a:s r="269">
                  <a:s r="266">
                     <a:s r="265">
                        <a:s>&quot;Most Recent Tobacco Use Screening Indicates Tobacco Non User&quot;</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="268">
                     <a:s r="267">
                        <a:s>&quot;Most Recent Tobacco Use Screening Indicates Tobacco User&quot;</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="269" locator="165:3-166:77" xsi:type="Or">
            <operand localId="266" locator="165:3-165:76" xsi:type="Not">
               <operand locator="165:3-165:76" xsi:type="IsNull">
                  <operand localId="265" locator="165:3-165:64" name="Most Recent Tobacco Use Screening Indicates Tobacco Non User" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="268" locator="166:8-166:77" xsi:type="Not">
               <operand locator="166:8-166:77" xsi:type="IsNull">
                  <operand localId="267" locator="166:8-166:65" name="Most Recent Tobacco Use Screening Indicates Tobacco User" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
         </expression>
      </def>
      <def localId="285" locator="168:1-175:5" name="Numerator 3" context="Patient" accessLevel="Public">
         <annotation xsi:type="a:Annotation">
            <a:s r="285">
               <a:s>define &quot;Numerator 3&quot;:
  </a:s>
               <a:s r="284">
                  <a:s r="272">
                     <a:s r="271">
                        <a:s>&quot;Most Recent Tobacco Use Screening Indicates Tobacco Non User&quot;</a:s>
                     </a:s>
                     <a:s> is not null</a:s>
                  </a:s>
                  <a:s>
    or </a:s>
                  <a:s r="283">
                     <a:s>( </a:s>
                     <a:s r="283">
                        <a:s r="274">
                           <a:s r="273">
                              <a:s>&quot;Most Recent Tobacco Use Screening Indicates Tobacco User&quot;</a:s>
                           </a:s>
                           <a:s> is not null</a:s>
                        </a:s>
                        <a:s>
        and </a:s>
                        <a:s r="282">
                           <a:s>( </a:s>
                           <a:s r="282">
                              <a:s r="279">
                                 <a:s r="276">
                                    <a:s>exists </a:s>
                                    <a:s r="275">
                                       <a:s>&quot;Tobacco Cessation Counseling Given&quot;</a:s>
                                    </a:s>
                                 </a:s>
                                 <a:s>
            or </a:s>
                                 <a:s r="278">
                                    <a:s>exists </a:s>
                                    <a:s r="277">
                                       <a:s>&quot;Tobacco Cessation Pharmacotherapy Ordered&quot;</a:s>
                                    </a:s>
                                 </a:s>
                              </a:s>
                              <a:s>
            or </a:s>
                              <a:s r="281">
                                 <a:s>exists </a:s>
                                 <a:s r="280">
                                    <a:s>&quot;Active Pharmacotherapy for Tobacco Cessation&quot;</a:s>
                                 </a:s>
                              </a:s>
                           </a:s>
                           <a:s>
        )</a:s>
                        </a:s>
                     </a:s>
                     <a:s>
    )</a:s>
                  </a:s>
               </a:s>
            </a:s>
         </annotation>
         <expression localId="284" locator="169:3-175:5" xsi:type="Or">
            <operand localId="272" locator="169:3-169:76" xsi:type="Not">
               <operand locator="169:3-169:76" xsi:type="IsNull">
                  <operand localId="271" locator="169:3-169:64" name="Most Recent Tobacco Use Screening Indicates Tobacco Non User" xsi:type="ExpressionRef"/>
               </operand>
            </operand>
            <operand localId="283" locator="170:8-175:5" xsi:type="And">
               <operand localId="274" locator="170:10-170:79" xsi:type="Not">
                  <operand locator="170:10-170:79" xsi:type="IsNull">
                     <operand localId="273" locator="170:10-170:67" name="Most Recent Tobacco Use Screening Indicates Tobacco User" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
               <operand localId="282" locator="171:13-174:9" xsi:type="Or">
                  <operand localId="279" locator="171:15-172:65" xsi:type="Or">
                     <operand localId="276" locator="171:15-171:57" xsi:type="Exists">
                        <operand localId="275" locator="171:22-171:57" name="Tobacco Cessation Counseling Given" xsi:type="ExpressionRef"/>
                     </operand>
                     <operand localId="278" locator="172:16-172:65" xsi:type="Exists">
                        <operand localId="277" locator="172:23-172:65" name="Tobacco Cessation Pharmacotherapy Ordered" xsi:type="ExpressionRef"/>
                     </operand>
                  </operand>
                  <operand localId="281" locator="173:16-173:68" xsi:type="Exists">
                     <operand localId="280" locator="173:23-173:68" name="Active Pharmacotherapy for Tobacco Cessation" xsi:type="ExpressionRef"/>
                  </operand>
               </operand>
            </operand>
         </expression>
      </def>
   </statements>
</library>


