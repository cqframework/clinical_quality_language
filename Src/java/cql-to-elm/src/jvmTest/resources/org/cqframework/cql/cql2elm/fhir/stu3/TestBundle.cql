library BundleHelpers

using FHIR version '3.0.0'

define TestBundle:
  Bundle {
    id: FHIR.id { value: 'x' }
  }

define TestBundleEntry:
  TestBundle.entry

define function Bundle(Resources List<Resource>):
  Bundle {
    entry:
      Resources R
        return FHIR.Bundle.Entry {
          resource: ResourceContainer(R)
        }
  }

define function ResourceContainer(Resource Resource):
  ResourceContainer {
    Account: Resource as Account,
    ActivityDefinition: Resource as ActivityDefinition,
    AdverseEvent: Resource as AdverseEvent,
    AllergyIntolerance: Resource as AllergyIntolerance,
    Appointment: Resource as Appointment,
    AppointmentResponse: Resource as AppointmentResponse,
    AuditEvent: Resource as AuditEvent,
    Basic: Resource as Basic,
    Binary: Resource as Binary,
    BodySite: Resource as BodySite,
    Bundle: Resource as Bundle,
    CapabilityStatement: Resource as CapabilityStatement,
    CarePlan: Resource as CarePlan,
    CareTeam: Resource as CareTeam,
    ChargeItem: Resource as ChargeItem,
    Claim: Resource as Claim,
    ClaimResponse: Resource as ClaimResponse,
    ClinicalImpression: Resource as ClinicalImpression,
    CodeSystem: Resource as CodeSystem,
    Communication: Resource as Communication,
    CommunicationRequest: Resource as CommunicationRequest,
    CompartmentDefinition: Resource as CompartmentDefinition,
    Composition: Resource as Composition,
    ConceptMap: Resource as ConceptMap,
    Condition: Resource as Condition,
    Consent: Resource as Consent,
    Contract: Resource as Contract,
    Coverage: Resource as Coverage,
    DetectedIssue: Resource as DetectedIssue,
    Device: Resource as Device,
    DeviceComponent: Resource as DeviceComponent,
    DeviceMetric: Resource as DeviceMetric,
    DeviceRequest: Resource as DeviceRequest,
    DeviceUseStatement: Resource as DeviceUseStatement,
    DiagnosticReport: Resource as DiagnosticReport,
    DocumentManifest: Resource as DocumentManifest,
    DocumentReference: Resource as DocumentReference,
    EligibilityRequest: Resource as EligibilityRequest,
    EligibilityResponse: Resource as EligibilityResponse,
    Encounter: Resource as Encounter,
    Endpoint: Resource as Endpoint,
    EnrollmentRequest: Resource as EnrollmentRequest,
    EnrollmentResponse: Resource as EnrollmentResponse,
    EpisodeOfCare: Resource as EpisodeOfCare,
    ExpansionProfile: Resource as ExpansionProfile,
    ExplanationOfBenefit: Resource as ExplanationOfBenefit,
    FamilyMemberHistory: Resource as FamilyMemberHistory,
    Flag: Resource as Flag,
    Goal: Resource as Goal,
    GraphDefinition: Resource as GraphDefinition,
    Group: Resource as Group,
    GuidanceResponse: Resource as GuidanceResponse,
    HealthcareService: Resource as HealthcareService,
    ImagingStudy: Resource as ImagingStudy,
    Immunization: Resource as Immunization,
    ImmunizationRecommendation: Resource as ImmunizationRecommendation,
    ImplementationGuide: Resource as ImplementationGuide,
    Library: Resource as Library,
    Linkage: Resource as Linkage,
    "List": Resource as "List",
    Location: Resource as Location,
    Measure: Resource as Measure,
    MeasureReport: Resource as MeasureReport,
    Media: Resource as Media,
    Medication: Resource as Medication,
    MedicationAdministration: Resource as MedicationAdministration,
    MedicationDispense: Resource as MedicationDispense,
    MedicationRequest: Resource as MedicationRequest,
    MedicationStatement: Resource as MedicationStatement,
    MessageDefinition: Resource as MessageDefinition,
    MessageHeader: Resource as MessageHeader,
    NamingSystem: Resource as NamingSystem,
    NutritionOrder: Resource as NutritionOrder,
    Observation: Resource as Observation,
    OperationDefinition: Resource as OperationDefinition,
    OperationOutcome: Resource as OperationOutcome,
    Organization: Resource as Organization,
    Parameters: Resource as Parameters,
    Patient: Resource as Patient,
    PaymentNotice: Resource as PaymentNotice,
    PaymentReconciliation: Resource as PaymentReconciliation,
    Person: Resource as Person,
    PlanDefinition: Resource as PlanDefinition,
    Practitioner: Resource as Practitioner,
    PractitionerRole: Resource as PractitionerRole,
    Procedure: Resource as Procedure,
    ProcedureRequest: Resource as ProcedureRequest,
    ProcessRequest: Resource as ProcessRequest,
    ProcessResponse: Resource as ProcessResponse,
    Provenance: Resource as Provenance,
    Questionnaire: Resource as Questionnaire,
    QuestionnaireResponse: Resource as QuestionnaireResponse,
    ReferralRequest: Resource as ReferralRequest,
    RelatedPerson: Resource as RelatedPerson,
    RequestGroup: Resource as RequestGroup,
    ResearchStudy: Resource as ResearchStudy,
    ResearchSubject: Resource as ResearchSubject,
    RiskAssessment: Resource as RiskAssessment,
    Schedule: Resource as Schedule,
    SearchParameter: Resource as SearchParameter,
    Sequence: Resource as Sequence,
    ServiceDefinition: Resource as ServiceDefinition,
    Slot: Resource as Slot,
    Specimen: Resource as Specimen,
    StructureDefinition: Resource as StructureDefinition,
    StructureMap: Resource as StructureMap,
    Subscription: Resource as Subscription,
    Substance: Resource as Substance,
    SupplyDelivery: Resource as SupplyDelivery,
    SupplyRequest: Resource as SupplyRequest,
    Task: Resource as Task,
    TestReport: Resource as TestReport,
    TestScript: Resource as TestScript,
    ValueSet: Resource as ValueSet,
    VisionPrescription: Resource as VisionPrescription
  }

