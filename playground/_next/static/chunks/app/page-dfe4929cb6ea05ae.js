(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{481:(e,r,t)=>{"use strict";t.d(r,{D:()=>i});var n=t(4563),o=t(2582);let i=n.Tg.define((0,o.I)({start:[{regex:/\/\/.*/,token:"comment"},{regex:/\/\*/,token:"comment",next:"comment"},{regex:/"(?:[^\\]|\\.)*?(?:"|$)/,token:"def"},{regex:/'(?:[^\\]|\\.)*?(?:'|$)/,token:"string"},{regex:/'(?:[^\\]|\\.)*?(?:'|$)/,token:"string-2"},{regex:/[\{\[\(]/,indent:!0},{regex:/[\}\]\)]/,dedent:!0},{regex:/\b(context +)(Patient|Population)\b/,token:["keyword",null]},{regex:/\b(predecessor +of|successor +of|singleton +from)\b/,token:"keyword"},{regex:/\b(year|month|day|hour|minute|second|millisecond|timezone|date|time) +from\b/,token:"keyword"},{regex:/\b(years|months|days|hours|minutes|seconds|milliseconds) +between\b/,token:"keyword"},{regex:/\b(width +of|such that)\b/,token:"keyword"},{regex:/\b(Coalesce|is +null|is +not +null)\b/,token:"keyword"},{regex:/\b(difference)( +in +)(years|months|days|hours|minutes|seconds|milliseconds)( +between)\b/,token:["keyword","keyword","keyword","keyword"]},{regex:/\b(start|end)( +of)\b/,token:["keyword","keyword"]},{regex:/\b(properly +)(contains|includes|during|included +in)\b/,token:["keyword","keyword"]},{regex:/\b(contains|includes|during|included +in)\b/,token:["keyword","keyword"]},{regex:/\b(properly +)(between)\b/,token:["keyword","keyword"]},{regex:/\b(same +)(year|month|day|hour|minute|second|millisecond)( +)(or +before|or +after|as)\b/,token:["keyword","keyword",null,"keyword"]},{regex:/\b(same +)(or +before|or +after|as)\b/,token:["keyword","keyword"]},{regex:/\b(properly +)(within +)(\d+)(\s+)(year|month|day|hour|minute|second|millisecond)( +of)\b/,token:["keyword","keyword","number",null,"keyword","keyword"]},{regex:/\b(properly +)(within +)(\d+)(\s+)(years|months|days|hours|minutes|seconds|milliseconds)( +of)\b/,token:["keyword","keyword","number",null,"keyword","keyword"]},{regex:/\b(within +)(\d+)(\s+)(years|months|days|hours|minutes|seconds|milliseconds)( +of)\b/,token:["keyword","number",null,"keyword","keyword"]},{regex:/\b(year|month|day|hour|minute|second|millisecond)( +or +)(less|more)( +)(before|after)\b/,token:["keyword","keyword","keyword",null,"keyword"]},{regex:/\b(years|months|days|hours|minutes|seconds|milliseconds)( +or +)(less|more)( +)(before|after)\b/,token:["keyword","keyword","keyword","keyword","keyword"]},{regex:/\b(year|month|day|hour|minute|second|millisecond)( +)(before|after)\b/,token:["keyword",null,"keyword"]},{regex:/\b(years|months|days|hours|minutes|seconds|milliseconds)( +)(before|after)\b/,token:["keyword",null,"keyword"]},{regex:/\b(CalculateAge)(In)(Years|Months|Days|Hours|Minutes|Seconds)(At)\b/,token:["keyword","keyword","keyword","keyword"]},{regex:/\b(CalculateAge)(In)(Years|Months|Days|Hours|Minutes|Seconds)\b/,token:["keyword","keyword","keyword"]},{regex:/\b(Age)(In)(Years|Months|Days|Hours|Minutes|Seconds)(At)\b/,token:["keyword","keyword","keyword","keyword"]},{regex:/\b(Age)(In)(Years|Months|Days|Hours|Minutes|Seconds)\b/,token:["keyword","keyword","keyword"]},{regex:/\b(sort +)(ascending|descending)( +by)(.*)(ascending|descending)\b/,token:["keyword","keyword","keyword",null,"keyword"]},{regex:/\b(sort +)(asc|desc)( +by)(.*)(asc|desc)\b/,token:["keyword","keyword","keyword",null,"keyword"]},{regex:/\b(sort +)(by)(.*)(ascending|descending)\b/,token:["keyword","keyword",null,"keyword"]},{regex:/\b(sort +)(by)(.*)(asc|desc)\b/,token:["keyword","keyword",null,"keyword"]},{regex:/\b(by)(.*)(ascending|descending)\b/,token:["keyword",null,"keyword"]},{regex:/\b(by)(.*)(asc|desc)\b/,token:["keyword",null,"keyword"]},{regex:/\B\@\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}\b/,token:"tag"},{regex:/\B\@\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,token:"tag"},{regex:/\B\@\d{4}-\d{2}-\d{2}T\d{2}:\d{2}\b/,token:"tag"},{regex:/\B\@\d{4}-\d{2}-\d{2}T\d{2}\b/,token:"tag"},{regex:/\B\@\d{4}-\d{2}-\d{2}\b/,token:"tag"},{regex:/\B\@\d{4}-\d{2}\b/,token:"tag"},{regex:/\B\@\d{4}\b/,token:"tag"},{regex:/\B\@T\d{2}:\d{2}:\d{2}\b/,token:"tag"},{regex:/\B\@T\d{2}:\d{2}:\d{2}\b/,token:"tag"},{regex:/\B\@T\d{2}:\d{2}\b/,token:"tag"},{regex:/\B\@T\d{2}\b/,token:"tag"},{sol:!0,regex:/(after|all|and|as|asc|ascending|before|between|by|called|case|cast|codesystem|codesystems|collapse|contains|convert|day|days|default|define|desc|descending|difference|display|distinct|div|duration|during|else|end|ends|except|exists|flatten|from|function|hour|hours|if|implies|in|include|includes|intersect|is|let|library|maximum|meets|millisecond|milliseconds|minimum|minute|minutes|mod|month|months|not|occurs|of|or|overlaps|parameter|predecessor|private|public|return|same|singleton|second|seconds|start|starts|successor|then|to|union|using|valueset|version|week|weeks|where|when|with|within|without|xor|year|years)\b/,token:"keyword"},{regex:/(\w\W|\W)(after|all|and|as|asc|ascending|before|between|by|called|case|cast|codesystem|codesystems|collapse|contains|convert|day|days|default|define|desc|descending|difference|display|distinct|div|duration|during|else|end|ends|except|exists|flatten|from|function|hour|hours|if|implies|in|include|includes|intersect|is|let|library|maximum|meets|millisecond|milliseconds|minimum|minute|minutes|mod|month|months|not|occurs|of|or|overlaps|parameter|predecessor|private|public|return|same|singleton|second|seconds|start|starts|successor|then|to|union|using|valueset|version|week|weeks|where|when|with|within|without|xor|year|years)\b/,token:[null,"keyword"]},{sol:!0,regex:/(Any|Boolean|Code|Concept|DateTime|Decimal|Integer|Interval|List|Quantity|String|Time|Tuple|AllTrue|AnyTrue|Avg|Count|Max|Min|Median|Mode|PopulationStdDev|PopulationVariance|StdDev|Sum|Variance|First|IndexOf|Last|Length|Now|TimeOfDay|Today|Combine|Length|Lower|PositionOf|Split|Substring|Upper|Abs|Ceiling|Floor|Log|Ln|Round|Truncate|ToBoolean|ToConcept|ToDateTime|ToDecimal|ToInteger|ToQuantity|ToString|ToTime)\b/,token:"builtin"},{regex:/(\w\W|\W)(Any|Boolean|Code|Concept|DateTime|Decimal|Integer|Interval|List|Quantity|String|Time|Tuple|AllTrue|AnyTrue|Avg|Count|Max|Min|Median|Mode|PopulationStdDev|PopulationVariance|StdDev|Sum|Variance|First|IndexOf|Last|Length|Now|TimeOfDay|Today|Combine|Length|Lower|PositionOf|Split|Substring|Upper|Abs|Ceiling|Floor|Log|Ln|Round|Truncate|ToBoolean|ToConcept|ToDateTime|ToDecimal|ToInteger|ToQuantity|ToString|ToTime)\b/,token:[null,"builtin"]},{sol:!0,regex:/(true|false|null)\b/,token:"atom"},{regex:/\d/i,token:"number"},{regex:/(\w\W|\W)(true|false|null)\b/,token:[null,"atom"]}],comment:[{regex:/.*?\*\//,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],lineComment:"//"}}))},605:(e,r,t)=>{"use strict";t.d(r,{IQ:()=>d,KE:()=>a,aJ:()=>u,tP:()=>c});var n=t(5155),o=t(2115),i=t(6589),l=t(8082),s=t(5954);let a=(0,o.forwardRef)((e,r)=>{let{gridArea:t,value:o,onChange:a,editable:d,lineNumbers:c,extensions:u}=e;return(0,n.jsx)(i.Ay,{ref:r,style:{gridArea:t,minWidth:0,minHeight:0,fontSize:"90%",filter:"saturate(1.1) contrast(1.1)"},height:"100%",width:"100%",editable:d,theme:[s.al,l.Lz.theme({"&.cm-focused":{outline:"none"},".cm-content":{padding:"8px 0",fontFamily:"var(--monospace-font-family)"},".cm-gutterElement":{padding:"0 7px 0 12px !important"},".cm-gutters":{borderRight:"0 !important"},".cm-line":{padding:"0 10px"},".custom-highlights":{boxShadow:"0 0 0 2px #eee",background:"#eee",mixBlendMode:"darken",boxDecorationBreak:"clone"}})],basicSetup:{allowMultipleSelections:!0,foldGutter:!1,highlightActiveLine:!1,highlightActiveLineGutter:!1,highlightSelectionMatches:!1,lineNumbers:c,searchKeymap:!1},value:o,extensions:[l.Lz.lineWrapping,m,...u],onChange:a})});function d(e){let r=e.selection.main.head,t=e.doc.lineAt(r);return{line:t.number,col:r-t.from+1}}function c(e,r){let{lineFrom:t,colFrom:n,lineTo:o,colTo:i}=r;return{start:e.doc.line(t).from+n-1,end:e.doc.line(o).from+i}}let u=i.Pe.define(),m=i.sU.define({create:()=>i.NZ.none,update(e,r){for(let e of r.effects)if(e.is(u)){let r=e.value.map(e=>{let{start:r,end:t}=e;return i.NZ.mark({class:"custom-highlights"}).range(r,t)});return i.NZ.set(r,!0)}return e},provide:e=>l.Lz.decorations.from(e)})},1096:(e,r,t)=>{"use strict";t.d(r,{K:()=>l,g:()=>i});var n=t(5155),o=t(2115);let i=[{value:"EnableDateRangeOptimization",label:"Enable date range optimization"},{value:"EnableAnnotations",label:"Enable annotations"},{value:"EnableLocators",label:"Enable locators"},{value:"EnableResultTypes",label:"Enable result types"},{value:"EnableDetailedErrors",label:"Enable detailed errors"},{value:"DisableListTraversal",label:"Disable list traversal"},{value:"DisableListDemotion",label:"Disable list demotion"},{value:"DisableListPromotion",label:"Disable list promotion"},{value:"EnableIntervalDemotion",label:"Enable interval demotion"},{value:"EnableIntervalPromotion",label:"Enable interval promotion"},{value:"DisableMethodInvocation",label:"Disable method invocation"},{value:"RequireFromKeyword",label:(0,n.jsxs)(o.Fragment,{children:["Require"," ",(0,n.jsx)("span",{style:{fontFamily:"var(--monospace-font-family)",fontSize:"90%",color:"#d73a49"},children:"from"})," ","keyword for queries"]})},{value:"DisableDefaultModelInfoLoad",label:"Disable default model info load"}],l=["None","Differing","Overloads","All"]},1254:(e,r,t)=>{"use strict";t.d(r,{H:()=>o});var n=t(5155);function o(e){let{children:r}=e;return(0,n.jsx)("div",{style:{fontSize:12,margin:"6px 0 0 0"},children:r})}},2047:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var n=t(4563),o=t(2582);let i=n.Tg.define((0,o.I)({start:[{regex:/^(INFO|WARN)/,token:"keyword"},{regex:/.*/,token:"comment"}]}))},2906:(e,r,t)=>{"use strict";t.d(r,{J:()=>o});var n=t(5155);function o(e){let{children:r}=e;return(0,n.jsx)("div",{style:{fontSize:14,fontWeight:700,margin:"0 0 10px 0",color:"#777"},children:r})}},4154:(e,r,t)=>{"use strict";t.d(r,{i:()=>n});let n={background:"transparent",boxShadow:"none",color:"inherit",border:"var(--border)",borderRadius:"var(--border-radius)",padding:"6px 12px",fontSize:"inherit",cursor:"pointer",fontWeight:700}},4679:(e,r,t)=>{"use strict";t.d(r,{J:()=>o});var n=t(5155);function o(e){return(0,n.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",fill:"#18b11d"})})}t(2115)},5285:(e,r,t)=>{"use strict";t.a(e,async(e,n)=>{try{t.d(r,{CqlCompilerPlayground:()=>C});var o=t(5155),i=t(2115),l=t(3196),s=t(1135),a=t(1096),d=t(8726),c=t(481),u=t(2047),m=t(605),g=t(8082),p=t(5557),y=t(2906),h=t(1254),b=t(4154),f=t(5504),x=t(2564),w=t(6446),k=t(4679),v=e([d]);d=(v.then?(await v)():v)[0];let A={cql:"library Test version '0.1.0'\n\nusing FHIR version '4.0.1'\n\ninclude FHIRHelpers version '4.0.1'\n\nvalueset \"Encounter Inpatient\": 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307'\n\nparameter \"Measurement Period\" Interval<DateTime>\n\ncontext Patient\n\ndefine \"Inpatient Encounter\":\n  [Encounter: \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.status = 'finished'\n      and EncounterInpatient.period ends during day of \"Measurement Period\"\n",useWasm:!1,compilerOptions:["EnableLocators","DisableListDemotion","DisableListPromotion"],signatureLevel:"Overloads",outputContentType:"json",librarySource:"remote",baseUrl:"https://raw.githubusercontent.com/cqframework/cqf-exercises/refs/heads/master/input/cql/",mountedDir:null,useWorker:!0};function C(){let[e,r]=(0,i.useState)({compileCqlArgs:A,isBusy:!0,elm:{contentType:A.outputContentType,content:""},log:[]}),n=(0,i.useRef)(0),v=(0,i.useRef)(null),C=(0,i.useRef)(null),T=async()=>{let e=new Worker(t.tu(new URL(t.p+t.u(592),t.b)));return await new Promise(r=>{e.onmessage=e=>{"ready"===e.data.type&&r()}}),e.onmessage=e=>{let{type:t,data:o}=e.data;if("output"===t&&o.runId===n.current){let e=o.output;r(r=>"log"===e.type?{...r,log:[...r.log,e.log]}:{...r,isBusy:!1,elm:{contentType:e.contentType,content:e.elm},log:[...r.log,"INFO Compilation finished in ".concat((Date.now()-o.startTime)/1e3,"s.")]})}},e};(0,i.useEffect)(()=>{v.current=(0,d.g)(!1);let e=T();C.current&&C.current.then(e=>e.terminate()),C.current=e,r(e=>({...e,isBusy:!0,log:[...e.log,"INFO Caches reset."]}))},[e.compileCqlArgs.librarySource,e.compileCqlArgs.mountedDir,e.compileCqlArgs.baseUrl,e.compileCqlArgs.compilerOptions,e.compileCqlArgs.signatureLevel]),(0,i.useEffect)(()=>{(async()=>{r(e=>({...e,isBusy:!0,log:[...e.log,"INFO Starting compilation..."]}));let t=++n.current,o=Date.now();if(e.compileCqlArgs.useWorker)(await C.current).postMessage({type:"compileCql",data:{args:e.compileCqlArgs,runId:t,startTime:o}});else{let{compileCql:i}=v.current;i(e.compileCqlArgs,e=>{t===n.current&&r(r=>"log"===e.type?{...r,log:[...r.log,e.log]}:{...r,isBusy:!1,elm:{contentType:e.contentType,content:e.elm},log:[...r.log,"INFO Compilation finished in ".concat((Date.now()-o)/1e3,"s.")]})})}})()},[e.compileCqlArgs]);let j=(0,i.useRef)(null),q=(0,i.useRef)(null),D=(0,i.useRef)(null);return(0,i.useEffect)(()=>{try{let{line:r,col:t}=(0,m.IQ)(j.current.view.state),n=(0,p.T)(e.elm,r,t);j.current.view.dispatch({effects:[m.aJ.of(n.slice(0,1).map(e=>(0,m.tP)(j.current.view.state,e.cql)))]}),q.current.view.dispatch({effects:[m.aJ.of(n.map(e=>e.elm)),...n.length?[g.Lz.scrollIntoView(n[n.length-1].elm.start,{y:"nearest"})]:[]]})}catch(e){}},[e.elm]),(0,i.useLayoutEffect)(()=>{try{D.current.view.dispatch({effects:g.Lz.scrollIntoView(D.current.view.state.doc.length,{y:"end"})})}catch(e){}},[e.log]),(0,o.jsxs)("div",{style:{position:"absolute",inset:0,display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"header" "body"',minHeight:0},children:[(0,o.jsx)("div",{style:{gridArea:"header",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:1},children:(0,o.jsxs)("div",{style:{display:"flex",minHeight:44,padding:"0 4px 0 0",gap:10},children:[(0,o.jsx)("h1",{style:{flex:"0 0 auto",padding:"0 20px",margin:0,fontSize:18,fontWeight:700,display:"grid",placeItems:"center start"},children:"CQL Compiler in Kotlin/JS — Demo"}),(0,o.jsx)("button",{type:"button",style:{...b.i,flex:"0 0 auto",padding:"4px 12px",alignSelf:"center"},onClick:async()=>{let e=await window.showDirectoryPicker({mode:"read"}),t=(await Array.fromAsync(e.values())).filter(e=>"file"===e.kind).map(e=>({handle:e}));r(r=>({...r,compileCqlArgs:{...r.compileCqlArgs,mountedDir:{handle:e,files:t}}}))},children:e.compileCqlArgs.mountedDir?(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("b",{children:e.compileCqlArgs.mountedDir.handle.name})," folder selected"]}):"Mount directory..."}),(0,o.jsxs)("select",{disabled:!e.compileCqlArgs.mountedDir,style:{flex:"0 0 auto",alignSelf:"center",width:250,padding:"4px 12px 4px 8px",border:"var(--border)",borderRadius:"var(--border-radius)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontFamily:"inherit"},defaultValue:"",onChange:async t=>{let n=t.target.value;if(e.compileCqlArgs.mountedDir){let t=await (0,x.T)(e.compileCqlArgs.mountedDir.files.find(e=>e.handle.name===n).handle);null!==t&&r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,cql:t}}))}},children:[(0,o.jsx)("option",{value:"",children:"Import CQL from file..."}),e.compileCqlArgs.mountedDir&&e.compileCqlArgs.mountedDir.files.map((e,r)=>(0,o.jsx)("option",{value:e.handle.name,children:e.handle.name},r))]}),(0,o.jsx)("div",{style:{flex:"1 1 auto"}}),(0,o.jsx)("a",{style:{flex:"0 0 auto",alignSelf:"center",width:32,height:32,background:"url(https://raw.githubusercontent.com/microsoft/vscode-icons/refs/heads/main/icons/light/github-inverted.svg) center/18px 18px no-repeat"},href:"https://github.com/cqframework/clinical_quality_language/tree/master/Src/js/cql-to-elm-ui"})]})}),(0,o.jsxs)("div",{style:{gridArea:"body",display:"grid",gridTemplateColumns:"4fr 1fr",gridTemplateRows:"1fr",gridTemplateAreas:'"main sidebar"',minHeight:0},children:[(0,o.jsxs)("div",{style:{gridArea:"main",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"4fr 1fr",gridTemplateAreas:'"editors" "log"',minHeight:0,background:"white"},children:[(0,o.jsxs)("div",{style:{gridArea:"editors",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr",gridTemplateAreas:'"left-editor right-editor"',minHeight:0},children:[(0,o.jsx)("div",{style:{gridArea:"left-editor",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"label" "textarea"',minHeight:0},children:(0,o.jsx)(m.KE,{ref:j,gridArea:"textarea",value:e.compileCqlArgs.cql,onChange:e=>{r(r=>({...r,compileCqlArgs:{...r.compileCqlArgs,cql:e}}))},editable:!0,lineNumbers:!0,extensions:[c.D,g.Lz.updateListener.of(r=>{if(!r.docChanged&&r.selectionSet){let{line:r,col:t}=(0,m.IQ)(j.current.view.state),n=(0,p.T)(e.elm,r,t);j.current.view.dispatch({effects:[m.aJ.of(n.slice(0,1).map(e=>(0,m.tP)(j.current.view.state,e.cql)))]}),q.current.view.dispatch({effects:[m.aJ.of(n.map(e=>e.elm)),...n.length?[g.Lz.scrollIntoView(n[n.length-1].elm.start,{y:"nearest"})]:[]]})}})]})}),(0,o.jsxs)("div",{style:{gridArea:"right-editor",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"label" "textarea"',minHeight:0,borderLeft:"var(--border)",position:"relative"},children:[(0,o.jsx)(m.KE,{ref:q,gridArea:"textarea",value:e.elm.content,onChange:()=>{},editable:!1,lineNumbers:!0,extensions:["json"===e.elm.contentType?(0,l.Pq)():(0,s._n)()]}),(0,o.jsx)("div",{style:{position:"absolute",top:5,right:15,opacity:+!e.isBusy,transition:"opacity 0.2s"},children:(0,o.jsx)(k.J,{style:{width:20}})})]})]}),(0,o.jsx)("div",{style:{gridArea:"log",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"label" "textarea"',minHeight:0,borderTop:"var(--border)"},children:(0,o.jsx)(m.KE,{ref:D,gridArea:"textarea",value:e.log.join("\n"),onChange:()=>{},editable:!1,lineNumbers:!1,extensions:[u.F]})})]}),(0,o.jsxs)("div",{style:{gridArea:"sidebar",padding:20,minHeight:0,borderLeft:"var(--border)",overflow:"auto"},children:[(0,o.jsx)(w.D,{children:"Settings"}),(0,o.jsxs)("div",{style:{display:"grid",gap:25,margin:"0 0 30px 0"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(y.J,{children:"Library sources"}),(0,o.jsx)("div",{style:{display:"grid",gap:10},children:[{value:"local",label:"Mounted directory",content:(0,o.jsx)(i.Fragment,{children:(0,o.jsx)(h.H,{children:"Included libraries are loaded from files in the local directory (library ID + .cql)."})})},{value:"remote",label:"Remote URL",content:(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("input",{placeholder:"E.g. https://raw.githubusercontent.com/cqframework/cqf-exercises/refs/heads/master/input/cql/",value:e.compileCqlArgs.baseUrl,onChange:e=>{let t=e.target.value;r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,baseUrl:t}}))},style:{width:"100%",padding:"6px 12px",border:"var(--border)",borderRadius:"var(--border-radius)",fontFamily:"inherit"}}),(0,o.jsx)(h.H,{children:"Included libraries are fetched from this base URL + library ID + .cql."})]})}].map((t,n)=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"flex",gap:5,margin:"0 0 5px 0"},children:[(0,o.jsx)("input",{type:"radio",style:{margin:0},checked:e.compileCqlArgs.librarySource===t.value,onChange:()=>{r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,librarySource:t.value}}))}}),t.label]}),t.content]},n))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(y.J,{children:"Compiler options"}),(0,o.jsx)("div",{style:{display:"grid",gap:3,margin:"0 0 12px 0"},children:a.g.map((t,n)=>(0,o.jsxs)("label",{style:{display:"flex",gap:5},children:[(0,o.jsx)("input",{type:"checkbox",style:{margin:0},checked:e.compileCqlArgs.compilerOptions.includes(t.value),onChange:e=>{let n=e.target.checked;r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,compilerOptions:n?[...e.compileCqlArgs.compilerOptions,t.value]:e.compileCqlArgs.compilerOptions.filter(e=>e!==t.value)}}))}}),(0,o.jsx)("div",{children:t.label})]},n))}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{margin:"0 0 5px 0"},children:"Signature level"}),(0,o.jsx)("select",{value:e.compileCqlArgs.signatureLevel,onChange:e=>{let t=e.target.value;r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,signatureLevel:t}}))},style:{width:"100%",padding:"6px 12px 6px 8px",border:"var(--border)",borderRadius:"var(--border-radius)",fontFamily:"inherit"},children:a.K.map((e,r)=>(0,o.jsx)("option",{value:e,children:e},r))})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(y.J,{children:"Output content type"}),(0,o.jsx)("div",{style:{display:"flex",gap:10},children:["json","xml"].map((t,n)=>(0,o.jsxs)("label",{style:{display:"flex",gap:5},children:[(0,o.jsx)("input",{type:"radio",style:{margin:0},checked:e.compileCqlArgs.outputContentType===t,onChange:()=>{r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,outputContentType:t}}))}}),t.toUpperCase()]},n))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(y.J,{children:"Tool configuraion"}),(0,o.jsxs)("div",{style:{margin:"0 0 10px 0"},children:[(0,o.jsxs)("label",{style:{display:"flex",gap:5},children:[(0,o.jsx)("input",{type:"checkbox",style:{margin:0},checked:e.compileCqlArgs.useWorker,onChange:e=>{let t=e.target.checked;r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,useWorker:t}}))}}),"Use web worker"]}),(0,o.jsx)(h.H,{children:"Run compilation in a persistent web worker. This avoids blocking the UI thread and allows for synchronous HTTP requests, but requires the XML parser and serializer polyfills."})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"flex",gap:5},children:[(0,o.jsx)("input",{type:"checkbox",style:{margin:0},checked:e.compileCqlArgs.useWasm,onChange:e=>{let t=e.target.checked;r(e=>({...e,compileCqlArgs:{...e.compileCqlArgs,useWasm:t}}))}}),"Use WASM"]}),(0,o.jsx)(h.H,{children:"Use the WASM build of the CQL compiler."})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(y.J,{children:"Tool logging"}),(0,o.jsx)("button",{type:"button",style:{...b.i},onClick:()=>{r(e=>({...e,log:[]}))},children:"Clear log"})]})]}),(0,o.jsx)(w.D,{children:"Supported models"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:12,margin:"0 0 5px 0"},children:"You can use any of the models below, and they will be fetched automatically from GitHub."}),(0,o.jsx)("div",{style:{border:"var(--border)",borderRadius:"var(--border-radius)",background:"white",padding:"4px 12px",fontFamily:"var(--monospace-font-family)",fontSize:12},children:f.F.map((e,r)=>(0,o.jsxs)("a",{style:{display:"block",padding:"1px 0",color:"inherit",textDecoration:"none"},href:e.url,children:[(0,o.jsx)("span",{style:{color:"#d73a49"},children:"using"})," ",e.id,e.version&&(0,o.jsxs)(i.Fragment,{children:[" ",(0,o.jsx)("span",{style:{color:"#d73a49"},children:"version"})," ",(0,o.jsxs)("span",{style:{color:"#032f62"},children:["'",e.version,"'"]})]})]},r))})]})]})]})]})}n()}catch(e){n(e)}})},5557:(e,r,t)=>{"use strict";function n(e,r,t){return"json"===e.contentType?o(e.content,r,t,/"locator": "(\d+):(\d+)-(\d+):(\d+)"/g):o(e.content,r,t,/locator="(\d+):(\d+)-(\d+):(\d+)"/g)}function o(e,r,t,n){return[...e.matchAll(n).flatMap(e=>{let[n,o,i,l]=e.slice(1).map(Number);return(n<r||n===r&&o<=t)&&(i>r||i===r&&l>=t)?[{cql:{lineFrom:n,colFrom:o,lineTo:i,colTo:l},elm:{start:e.index,end:e.index+e[0].length}}]:[]})]}t.d(r,{T:()=>n})},6446:(e,r,t)=>{"use strict";t.d(r,{D:()=>o});var n=t(5155);function o(e){let{children:r}=e;return(0,n.jsx)("h2",{style:{fontSize:24,fontWeight:300,margin:"0 0 18px 0",color:"#777"},children:r})}},7959:(e,r,t)=>{Promise.resolve().then(t.bind(t,5285))}},e=>{e.O(0,[255,79,392,594,726,441,493,358],()=>e(e.s=7959)),_N_E=e.O()}]);