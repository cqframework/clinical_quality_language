"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[783],{63:(t,e)=>{function i(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="\x01-퟿-�\uD800\uDC00-\uDBFF\uDFFF",e.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",e.S=" 	\r\n",e.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�\uD800\uDC00-\uDB7F\uDFFF",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9\xb7̀-ͯ‿-⁀",e.CHAR_RE=RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},e.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=i,e.isNameChar=function(t){return i(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},4321:(t,e)=>{function i(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="	\n\r -퟿-�\uD800\uDC00-\uDBFF\uDFFF",e.S=" 	\r\n",e.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�\uD800\uDC00-\uDB7F\uDFFF",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9\xb7̀-ͯ‿-⁀",e.CHAR_RE=RegExp("^["+e.CHAR+"]$","u"),e.S_RE=RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=RegExp("^["+e.NAME_CHAR+"]+$","u"),e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=i,e.isNameChar=function(t){return i(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},8448:(t,e)=>{function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�\uD800\uDC00-\uDB7F\uDFFF",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9\xb7̀-ͯ‿-⁀",e.NC_NAME_START_CHAR_RE=RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u"),e.isNCNameStartChar=i,e.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},8783:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SaxesParser=e.EVENTS=void 0;let s=i(4321),a=i(63),h=i(8448);var r=s.isS,n=s.isChar,o=s.isNameStartChar,l=s.isNameChar,c=s.S_LIST,d=s.NAME_RE,u=a.isChar,m=h.isNCNameStartChar,p=h.isNCNameChar,f=h.NC_NAME_RE;let g="http://www.w3.org/XML/1998/namespace",C="http://www.w3.org/2000/xmlns/",x={__proto__:null,xml:g,xmlns:C},b={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},A=t=>34===t||39===t,T=[34,39],N=[...T,91,62],R=[...T,60,93],E=[61,63,...c],_=[...c,62,38,60];function S(t,e,i){switch(e){case"xml":i!==g&&t.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":i!==C&&t.fail(`xmlns prefix must be bound to ${C}.`)}switch(i){case C:t.fail(""===e?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI \
${C}.`);break;case g:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}let D=t=>f.test(t),v=t=>d.test(t);e.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class w{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;let e=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,e){this.nameStartCheck=m,this.nameCheck=p,this.isName=D,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},x);let t=this.opt.additionalNamespaces;null!=t&&(!function(t,e){for(let i of Object.keys(e))S(t,i,e[i])}(this,t),Object.assign(this.ns,t))}else this.nameStartCheck=o,this.nameCheck=l,this.isName=v,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:e}=this;this.state=13*!!e,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=e,this.xmlDeclPossible=!e,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw Error("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(b),null==(t=this.readyHandler)||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,e){this[k[t]]=e}off(t){this[k[t]]=void 0}makeError(t){var e;let i=null!=(e=this.fileName)?e:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),Error(i+t)}fail(t){let e=this.makeError(t),i=this.errorHandler;if(void 0===i)throw e;return i(e),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let e=!1;null===t?(e=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length,s=t.charCodeAt(i-1);!e&&(13===s||s>=55296&&s<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));let{stateTable:a}=this;for(this.chunk=t,this.i=0;this.i<i;)a[this.state].call(this);return this.chunkPosition+=i,e?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return -1;let i=t.charCodeAt(e);if(this.column++,i<55296){if(i>=32||9===i)return i;switch(i){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return 10===t.charCodeAt(e+1)&&(this.i=e+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;let s=65536+(i-55296)*1024+(t.charCodeAt(e+1)-56320);return this.i=e+2,s>1114111&&this.fail("disallowed character."),s}getCode11(){let{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return -1;let i=t.charCodeAt(e);if(this.column++,i<55296){if(i>31&&i<127||i>159&&8232!==i||9===i)return i;switch(i){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let i=t.charCodeAt(e+1);(10===i||133===i)&&(this.i=e+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;let s=65536+(i-55296)*1024+(t.charCodeAt(e+1)-56320);return this.i=e+2,s>1114111&&this.fail("disallowed character."),s}getCodeNorm(){let t=this.getCode();return -2===t?10:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:e}=this,{chunk:i}=this;for(;;){let s=this.getCode(),a=-2===s,h=a?10:s;if(-1===h||t.includes(h))return this.text+=i.slice(e,this.prevI),h;a&&(this.text+=`${i.slice(e,this.prevI)}
`,e=this.i)}}captureToChar(t){let{i:e}=this,{chunk:i}=this;for(;;){let s=this.getCode();switch(s){case -2:this.text+=`${i.slice(e,this.prevI)}
`,e=this.i,s=10;break;case -1:return this.text+=i.slice(e),!1}if(s===t)return this.text+=i.slice(e,this.prevI),!0}}captureNameChars(){let{chunk:t,i:e}=this;for(;;){let i=this.getCode();if(-1===i)return this.name+=t.slice(e),-1;if(!l(i))return this.name+=t.slice(e,this.prevI),-2===i?10:i}}skipSpaces(){for(;;){let t=this.getCodeNorm();if(-1===t||!r(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=n,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let t=this.i,e=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),e){case 60:if(this.state=15,0!==this.text.length)throw Error("no-empty text at start");break;case -1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var t;let e=this.captureTo(N);switch(e){case 62:null==(t=this.doctypeHandler)||t.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case -1:break;default:this.text+=String.fromCodePoint(e),91===e?this.state=4:A(e)&&(this.state=3,this.q=e)}}sDoctypeQuote(){let t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)}sDTD(){let t=this.captureTo(R);-1!==t&&(this.text+=String.fromCodePoint(t),93===t?this.state=2:60===t?this.state=6:A(t)&&(this.state=5,this.q=t))}sDTDQuoted(){let t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)}sDTDOpenWaka(){let t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let t=String.fromCodePoint(this.getCodeNorm()),e=this.openWakaBang+=t;this.text+=t,"-"!==e&&(this.state="--"===e?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8}sDTDCommentEnded(){let t=this.getCodeNorm();this.text+=String.fromCodePoint(t),62===t?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let t=this.getCodeNorm();this.text+=String.fromCodePoint(t),62===t&&(this.state=4)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this,{chunk:e}=this;t:for(;;)switch(this.getCode()){case -2:this.entity+=`${e.slice(t,this.prevI)}
`,t=this.i;break;case 59:{let i,{entityReturnState:s}=this,a=this.entity+e.slice(t,this.prevI);this.state=s,""===a?(this.fail("empty entity name."),i="&;"):(i=this.parseEntity(a),this.entity=""),(13!==s||void 0!==this.textHandler)&&(this.text+=i);break t}case -1:this.entity+=e.slice(t);break t}}sOpenWaka(){let t=this.getCode();if(o(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var t;let e=this.getCodeNorm();45===e?(this.state=19,null==(t=this.commentHandler)||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(e)}`,this.state=17)}sCommentEnded(){let t=this.getCodeNorm();62!==t?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let t=this.getCodeNorm();93===t?this.state=22:(this.text+=`]${String.fromCodePoint(t)}`,this.state=20)}sCDataEnding2(){var t;let e=this.getCodeNorm();switch(e){case 62:null==(t=this.cdataHandler)||t.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(e)}`,this.state=20}}sPIFirstChar(){let t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):63===t||r(t)?(this.fail("processing instruction without a target."),this.state=63===t?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)}sPIRest(){let{chunk:t,i:e}=this;for(;;){let i=this.getCodeNorm();if(-1===i){this.piTarget+=t.slice(e);return}if(!this.nameCheck(i)){this.piTarget+=t.slice(e,this.prevI);let s=63===i;s||r(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=s?33:27):this.state=s?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){let t=this.getCodeNorm();63===t?this.state=26:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var t;let e=this.getCodeNorm();if(62===e){let{piTarget:e}=this;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null==(t=this.piHandler)||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=13}else 63===e?this.text+="?":(this.text+=`?${String.fromCodePoint(e)}`,this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let t=this.skipSpaces();if(63===t){this.state=33;return}-1!==t&&(this.state=28,this.name=String.fromCodePoint(t))}sXMLDeclName(){let t=this.captureTo(E);if(63===t){this.state=33,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(r(t)||61===t){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=61===t?30:29}}sXMLDeclEq(){let t=this.getCodeNorm();if(63===t){this.state=33,this.fail("XML declaration is incomplete.");return}r(t)||(61!==t&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let t=this.getCodeNorm();if(63===t){this.state=33,this.fail("XML declaration is incomplete.");return}r(t)||(A(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let t=this.captureTo([this.q,63]);if(63===t){this.state=33,this.text="",this.fail("XML declaration is incomplete.");return}if(-1===t)return;let e=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"],this.xmlDecl.version=e,/^1\.[0-9]+$/.test(e)?this.opt.forceXMLVersion||this.setXMLVersion(e):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(e)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=e;break;case"standalone":"yes"!==e&&"no"!==e&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=e}this.name="",this.state=32}sXMLDeclSeparator(){let t=this.getCodeNorm();if(63===t){this.state=33;return}r(t)||(this.fail("whitespace required."),this.unget()),this.state=27}sXMLDeclEnding(){var t;62===this.getCodeNorm()?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null==(t=this.xmldeclHandler)||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;let e=this.captureNameChars();if(-1===e)return;let i=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=Object.create(null)),null==(t=this.openTagStartHandler)||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),e){case 62:this.openTag();break;case 47:this.state=35;break;default:r(e)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){62===this.getCode()?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let t=this.skipSpaces();-1!==t&&(o(t)?(this.unget(),this.state=37):62===t?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let t=this.captureNameChars();61===t?this.state=39:r(t)?this.state=38:62===t?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):-1!==t&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let t=this.skipSpaces();switch(t){case -1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",62===t?this.openTag():o(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let t=this.getCodeNorm();A(t)?(this.q=t,this.state=40):r(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:t,chunk:e}=this,{i:i}=this;for(;;)switch(this.getCode()){case t:this.pushAttrib(this.name,this.text+e.slice(i,this.prevI)),this.name=this.text="",this.q=null,this.state=41;return;case 38:this.text+=e.slice(i,this.prevI),this.state=14,this.entityReturnState=40;return;case 10:case -2:case 9:this.text+=`${e.slice(i,this.prevI)} `,i=this.i;break;case 60:this.text+=e.slice(i,this.prevI),this.fail("disallowed character.");return;case -1:this.text+=e.slice(i);return}}sAttribValueClosed(){let t=this.getCodeNorm();r(t)?this.state=36:62===t?this.openTag():47===t?this.state=35:o(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let t=this.captureTo(_);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case -1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",62===t?this.openTag():this.state=36}}sCloseTag(){let t=this.captureNameChars();62===t?this.closeTag():r(t)?this.state=44:-1!==t&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case -1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:e}=this,{chunk:i,textHandler:s}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,void 0!==s){let{text:e}=this,a=i.slice(t,this.prevI);0!==e.length?(s(e+a),this.text=""):0!==a.length&&s(a)}e=0;break e;case 38:this.state=14,this.entityReturnState=13,void 0!==s&&(this.text+=i.slice(t,this.prevI)),e=0;break e;case 93:switch(e){case 0:e=1;break;case 1:e=2;break;case 2:break;default:throw Error("impossible state")}break;case 62:2===e&&this.fail('the string "]]>" is disallowed in char data.'),e=0;break;case -2:void 0!==s&&(this.text+=`${i.slice(t,this.prevI)}
`),t=this.i,e=0;break;case -1:void 0!==s&&(this.text+=i.slice(t));break e;default:e=0}this.forbiddenState=e}handleTextOutsideRoot(){let{i:t}=this,{chunk:e,textHandler:i}=this,s=!1;i:for(;;){let a=this.getCode();switch(a){case 60:if(this.state=15,void 0!==i){let{text:s}=this,a=e.slice(t,this.prevI);0!==s.length?(i(s+a),this.text=""):0!==a.length&&i(a)}break i;case 38:this.state=14,this.entityReturnState=13,void 0!==i&&(this.text+=e.slice(t,this.prevI)),s=!0;break i;case -2:void 0!==i&&(this.text+=`${e.slice(t,this.prevI)}
`),t=this.i;break;case -1:void 0!==i&&(this.text+=e.slice(t));break i;default:r(a)||(s=!0)}}s&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,e){var i;let{prefix:s,local:a}=this.qname(t),h={name:t,prefix:s,local:a,value:e};if(this.attribList.push(h),null==(i=this.attributeHandler)||i.call(this,h),"xmlns"===s){let t=e.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[a]=t,S(this,a,t)}else if("xmlns"===t){let t=e.trim();this.topNS[""]=t,S(this,"",t)}}pushAttribPlain(t,e){var i;let s={name:t,value:e};this.attribList.push(s),null==(i=this.attributeHandler)||i.call(this,s)}end(){var t,e;this.sawRoot||this.fail("document must contain a root element.");let{tags:i}=this;for(;i.length>0;){let t=i.pop();this.fail(`unclosed tag: ${t.name}`)}0!==this.state&&13!==this.state&&this.fail("unexpected end.");let{text:s}=this;return 0!==s.length&&(null==(t=this.textHandler)||t.call(this,s),this.text=""),this._closed=!0,null==(e=this.endHandler)||e.call(this),this._init(),this}resolve(t){var e,i;let s=this.topNS[t];if(void 0!==s)return s;let{tags:a}=this;for(let e=a.length-1;e>=0;e--)if(void 0!==(s=a[e].ns[t]))return s;return void 0!==(s=this.ns[t])?s:null==(i=(e=this.opt).resolvePrefix)?void 0:i.call(e,t)}qname(t){let e=t.indexOf(":");if(-1===e)return{prefix:"",local:t};let i=t.slice(e+1),s=t.slice(0,e);return(""===s||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:s,local:i}}processAttribsNS(){var t;let{attribList:e}=this,i=this.tag;{let{prefix:e,local:s}=this.qname(i.name);i.prefix=e,i.local=s;let a=i.uri=null!=(t=this.resolve(e))?t:"";""!==e&&("xmlns"===e&&this.fail('tags may not have "xmlns" as prefix.'),""===a&&(this.fail(`unbound namespace prefix: ${JSON.stringify(e)}.`),i.uri=e))}if(0===e.length)return;let{attributes:s}=i,a=new Set;for(let t of e){let e,i,{name:h,prefix:r,local:n}=t;""===r?(e="xmlns"===h?C:"",i=h):(void 0===(e=this.resolve(r))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(r)}.`),e=r),i=`{${e}}${n}`),a.has(i)&&this.fail(`duplicate attribute: ${i}.`),a.add(i),t.uri=e,s[h]=t}this.attribList=[]}processAttribsPlain(){let{attribList:t}=this,e=this.tag.attributes;for(let{name:i,value:s}of t)void 0!==e[i]&&this.fail(`duplicate attribute: ${i}.`),e[i]=s;this.attribList=[]}openTag(){var t;this.processAttribs();let{tags:e}=this,i=this.tag;i.isSelfClosing=!1,null==(t=this.openTagHandler)||t.call(this,i),e.push(i),this.state=13,this.name=""}openSelfClosingTag(){var t,e,i;this.processAttribs();let{tags:s}=this,a=this.tag;a.isSelfClosing=!0,null==(t=this.openTagHandler)||t.call(this,a),null==(e=this.closeTagHandler)||e.call(this,a),null===(this.tag=null!=(i=s[s.length-1])?i:null)&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:t,name:e}=this;if(this.state=13,this.name="",""===e){this.fail("weird empty close tag."),this.text+="</>";return}let i=this.closeTagHandler,s=t.length;for(;s-- >0;){let s=this.tag=t.pop();if(this.topNS=s.ns,null==i||i(s),s.name===e)break;this.fail("unexpected close tag.")}0===s?this.closedRoot=!0:s<0&&(this.fail(`unmatched closing tag: ${e}.`),this.text+=`</${e}>`)}parseEntity(t){if("#"!==t[0]){let e=this.ENTITIES[t];return void 0!==e?e:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let e=NaN;return("x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=parseInt(t.slice(1),10)),this.isChar(e))?String.fromCodePoint(e):(this.fail("malformed character entity."),`&${t};`)}}e.SaxesParser=w}}]);